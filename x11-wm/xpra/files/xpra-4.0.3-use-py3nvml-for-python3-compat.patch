diff -urp xpra-4.0.3.orig/xpra/codecs/nv_util.py xpra-4.0.3/xpra/codecs/nv_util.py
--- xpra-4.0.3.orig/xpra/codecs/nv_util.py	2020-05-10 10:00:54.000000000 -0700
+++ xpra-4.0.3/xpra/codecs/nv_util.py	2020-08-27 15:55:14.019882153 -0700
@@ -21,7 +21,7 @@ def wrap_nvml_init(nvmlInit):
         nvmlInit()
         return True
     except Exception as e:
-        log("get_nvml_driver_version() pynvml error", exc_info=True)
+        log("get_nvml_driver_version() py3nvml error", exc_info=True)
         global nvml_init_warned
         if not nvml_init_warned:
             log.warn("Warning: failed to initialize NVML:")
@@ -31,7 +31,7 @@ def wrap_nvml_init(nvmlInit):
 
 def get_nvml_driver_version():
     try:
-        from pynvml import nvmlInit, nvmlShutdown, nvmlSystemGetDriverVersion
+        from py3nvml import nvmlInit, nvmlShutdown, nvmlSystemGetDriverVersion
     except ImportError as e:
         log("cannot use nvml to query the kernel module version:")
         log(" %s", e)
@@ -45,7 +45,7 @@ def get_nvml_driver_version():
                 log("nvmlSystemGetDriverVersion=%s", bytestostr(v))
                 return v.split(b".")
         except Exception as e:
-            log("get_nvml_driver_version() pynvml error", exc_info=True)
+            log("get_nvml_driver_version() py3nvml error", exc_info=True)
             log.warn("Warning: failed to query the NVidia kernel module version using NVML:")
             log.warn(" %s", e)
     return ()
@@ -100,8 +100,8 @@ def get_nvidia_module_version(probe=True
 def identify_cards():
     devices = {}
     try:
-        import pynvml
-        from pynvml import nvmlInit, nvmlShutdown, nvmlDeviceGetCount, nvmlDeviceGetHandleByIndex
+        import py3nvml
+        from py3nvml import nvmlInit, nvmlShutdown, nvmlDeviceGetCount, nvmlDeviceGetHandleByIndex
         deviceCount = None
         try:
             if not wrap_nvml_init(nvmlInit):
@@ -158,7 +158,7 @@ def identify_cards():
                        ("", "vbios-version",            "nvmlDeviceGetVbiosVersion",            (),     strtobytes),
                        ):
                     try:
-                        fn = getattr(pynvml, fn_name)
+                        fn = getattr(py3nvml, fn_name)
                         v = fn(handle, *args)
                         if conv:
                             v = conv(v)
@@ -176,7 +176,7 @@ def identify_cards():
             #unitCount = nvmlUnitGetCount()
             #log.info("unitCount=%s", unitCount)
         except Exception as e:
-            log("identify_cards() pynvml error", exc_info=True)
+            log("identify_cards() py3nvml error", exc_info=True)
             log.warn("Warning: failed to query the NVidia cards using NVML:")
             log.warn(" %s", e)
         finally:
