diff '--color=auto' -urp pytorch-2.4.0.orig/torch/utils/collect_env.py pytorch-2.4.0/torch/utils/collect_env.py
--- pytorch-2.4.0.orig/torch/utils/collect_env.py	2024-07-09 11:17:43.000000000 -0700
+++ pytorch-2.4.0/torch/utils/collect_env.py	2024-08-09 01:45:20.255733142 -0700
@@ -184,7 +184,7 @@ def get_cudnn_version(run_lambda):
         # https://docs.nvidia.com/cuda/cuda-installation-guide-mac-os-x/index.html#install
         # https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#installmac
         # Use CUDNN_LIBRARY when cudnn library is installed elsewhere.
-        cudnn_cmd = 'ls /usr/local/cuda/lib/libcudnn*'
+        cudnn_cmd = 'ls /opt/cuda/lib64/libcudnn*'
     else:
         cudnn_cmd = 'ldconfig -p | grep libcudnn | rev | cut -d" " -f1 | rev'
     rc, out, _ = run_lambda(cudnn_cmd)
diff '--color=auto' -urp pytorch-2.4.0.orig/torch/utils/cpp_extension.py pytorch-2.4.0/torch/utils/cpp_extension.py
--- pytorch-2.4.0.orig/torch/utils/cpp_extension.py	2024-07-09 11:17:43.000000000 -0700
+++ pytorch-2.4.0/torch/utils/cpp_extension.py	2024-08-09 01:45:09.667914301 -0700
@@ -109,7 +109,7 @@ def _find_cuda_home() -> Optional[str]:
                 else:
                     cuda_home = cuda_homes[0]
             else:
-                cuda_home = '/usr/local/cuda'
+                cuda_home = '/opt/cuda'
             if not os.path.exists(cuda_home):
                 cuda_home = None
     if cuda_home and not torch.cuda.is_available():
