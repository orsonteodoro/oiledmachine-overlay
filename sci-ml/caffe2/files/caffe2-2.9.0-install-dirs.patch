diff '--color=auto' -urp pytorch-2.9.0.orig/c10/CMakeLists.txt pytorch-2.9.0/c10/CMakeLists.txt
--- pytorch-2.9.0.orig/c10/CMakeLists.txt	2025-10-08 18:09:57.000000000 -0700
+++ pytorch-2.9.0/c10/CMakeLists.txt	2025-10-31 11:33:25.458582880 -0700
@@ -162,7 +162,7 @@ if(NOT BUILD_LIBTORCHLESS)
   # Note: for now, we will put all export path into one single Caffe2Targets group
   # to deal with the cmake deployment need. Inside the Caffe2Targets set, the
   # individual libraries like libc10.so and libcaffe2.so are still self-contained.
-  install(TARGETS c10 EXPORT Caffe2Targets DESTINATION lib)
+  install(TARGETS c10 EXPORT Caffe2Targets DESTINATION ${CMAKE_INSTALL_LIBDIR})
 endif()
 
 install(DIRECTORY ${CMAKE_CURRENT_LIST_DIR}
diff '--color=auto' -urp pytorch-2.9.0.orig/c10/cuda/CMakeLists.txt pytorch-2.9.0/c10/cuda/CMakeLists.txt
--- pytorch-2.9.0.orig/c10/cuda/CMakeLists.txt	2025-10-08 18:09:57.000000000 -0700
+++ pytorch-2.9.0/c10/cuda/CMakeLists.txt	2025-10-31 11:33:25.475625625 -0700
@@ -83,7 +83,7 @@ if(NOT BUILD_LIBTORCHLESS)
 # Note: for now, we will put all export path into one single Caffe2Targets group
 # to deal with the cmake deployment need. Inside the Caffe2Targets set, the
 # individual libraries like libc10.so and libcaffe2.so are still self-contained.
-install(TARGETS c10_cuda EXPORT Caffe2Targets DESTINATION lib)
+install(TARGETS c10_cuda EXPORT Caffe2Targets DESTINATION ${CMAKE_INSTALL_LIBDIR})
 
 endif()
 
Only in pytorch-2.9.0/c10/cuda: CMakeLists.txt.orig
diff '--color=auto' -urp pytorch-2.9.0.orig/c10/hip/CMakeLists.txt pytorch-2.9.0/c10/hip/CMakeLists.txt
--- pytorch-2.9.0.orig/c10/hip/CMakeLists.txt	2025-10-08 18:09:57.000000000 -0700
+++ pytorch-2.9.0/c10/hip/CMakeLists.txt	2025-10-31 11:33:25.475794072 -0700
@@ -56,7 +56,7 @@ if(NOT BUILD_LIBTORCHLESS)
       $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/../..>
       $<BUILD_INTERFACE:${CMAKE_BINARY_DIR}>
       $<INSTALL_INTERFACE:include>)
-  install(TARGETS c10_hip EXPORT Caffe2Targets DESTINATION lib)
+  install(TARGETS c10_hip EXPORT Caffe2Targets DESTINATION ${CMAKE_INSTALL_LIBDIR})
   set(C10_HIP_LIB c10_hip)
 endif()
 
Only in pytorch-2.9.0/c10/hip: CMakeLists.txt.orig
diff '--color=auto' -urp pytorch-2.9.0.orig/c10/xpu/CMakeLists.txt pytorch-2.9.0/c10/xpu/CMakeLists.txt
--- pytorch-2.9.0.orig/c10/xpu/CMakeLists.txt	2025-10-08 18:09:57.000000000 -0700
+++ pytorch-2.9.0/c10/xpu/CMakeLists.txt	2025-10-31 11:33:25.475903035 -0700
@@ -46,7 +46,7 @@ if(NOT BUILD_LIBTORCHLESS)
       $<BUILD_INTERFACE:${CMAKE_BINARY_DIR}>
       $<INSTALL_INTERFACE:include>
       )
-  install(TARGETS c10_xpu EXPORT Caffe2Targets DESTINATION lib)
+  install(TARGETS c10_xpu EXPORT Caffe2Targets DESTINATION ${CMAKE_INSTALL_LIBDIR})
   set(C10_XPU_LIB c10_xpu)
   add_subdirectory(test)
 endif()
Only in pytorch-2.9.0/c10/xpu: CMakeLists.txt.orig
diff '--color=auto' -urp pytorch-2.9.0.orig/test/cpp/c10d/CMakeLists.txt pytorch-2.9.0/test/cpp/c10d/CMakeLists.txt
--- pytorch-2.9.0.orig/test/cpp/c10d/CMakeLists.txt	2025-10-08 18:09:57.000000000 -0700
+++ pytorch-2.9.0/test/cpp/c10d/CMakeLists.txt	2025-10-31 11:34:01.160972365 -0700
@@ -56,7 +56,7 @@ if(USE_CUDA)
       ProcessGroupNCCLErrorsTest.cpp
       LINK_LIBRARIES torch_cpu c10d_cuda_test gtest_main __caffe2_nccl INSTALL_TEST ${INSTALL_TEST})
     if(INSTALL_TEST)
-      install(TARGETS c10d_cuda_test DESTINATION lib)
+      install(TARGETS c10d_cuda_test DESTINATION ${CMAKE_INSTALL_LIBDIR})
     endif()
   endif()
   if(USE_UCC AND USE_C10D_UCC)
@@ -68,7 +68,7 @@ if(USE_CUDA)
       ProcessGroupUCCTest.cpp
       LINK_LIBRARIES torch_cpu c10d_cuda_test gtest_main __caffe2_ucc INSTALL_TEST ${INSTALL_TEST})
     if(INSTALL_TEST)
-      install(TARGETS c10d_cuda_test DESTINATION lib)
+      install(TARGETS c10d_cuda_test DESTINATION ${CMAKE_INSTALL_LIBDIR})
     endif()
   endif()
 else()
Only in pytorch-2.9.0/test/cpp/c10d: CMakeLists.txt.orig
Only in pytorch-2.9.0/test/cpp/c10d: CMakeLists.txt.rej
diff '--color=auto' -urp pytorch-2.9.0.orig/test/cpp/jit/CMakeLists.txt pytorch-2.9.0/test/cpp/jit/CMakeLists.txt
--- pytorch-2.9.0.orig/test/cpp/jit/CMakeLists.txt	2025-10-08 18:09:57.000000000 -0700
+++ pytorch-2.9.0/test/cpp/jit/CMakeLists.txt	2025-10-31 11:33:25.476269839 -0700
@@ -32,9 +32,9 @@ endif()
 target_link_libraries(backend_with_compiler torch)
 
 if(INSTALL_TEST)
-  install(TARGETS torchbind_test DESTINATION lib)
-  install(TARGETS jitbackend_test DESTINATION lib)
-  install(TARGETS backend_with_compiler DESTINATION lib)
+  install(TARGETS torchbind_test DESTINATION ${CMAKE_INSTALL_LIBDIR})
+  install(TARGETS jitbackend_test DESTINATION ${CMAKE_INSTALL_LIBDIR})
+  install(TARGETS backend_with_compiler DESTINATION ${CMAKE_INSTALL_LIBDIR})
 endif()
 
 # Build the cpp gtest binary containing the cpp-only tests.
