diff '--color=auto' -urp godot-3.6.1-stable.orig/platform/windows/detect.py godot-3.6.1-stable/platform/windows/detect.py
--- godot-3.6.1-stable.orig/platform/windows/detect.py	2025-06-24 10:10:49.000000000 -0700
+++ godot-3.6.1-stable/platform/windows/detect.py	2025-09-26 05:27:47.613356894 -0700
@@ -331,7 +331,7 @@ def configure_mingw(env):
                 env.Append(CCFLAGS=["-O3"])
             else:
                 env.Append(CCFLAGS=["-O2"])
-        else:  # optimize for size
+        elif env["optimize"] == "size":  # optimize for size
             env.Prepend(CCFLAGS=["-Os"])
         if env["debug_symbols"]:
             env.Prepend(CCFLAGS=["-g2"])
@@ -342,7 +342,7 @@ def configure_mingw(env):
             env.Prepend(CCFLAGS=["-g2"])
         if env["optimize"] == "speed":  # optimize for speed (default)
             env.Append(CCFLAGS=["-O2"])
-        else:  # optimize for size
+        elif env["optimize"] == "size":  # optimize for size
             env.Prepend(CCFLAGS=["-Os"])
 
     elif env["target"] == "debug":
diff '--color=auto' -urp godot-3.6.1-stable.orig/SConstruct godot-3.6.1-stable/SConstruct
--- godot-3.6.1-stable.orig/SConstruct	2025-09-26 05:23:02.753904504 -0700
+++ godot-3.6.1-stable/SConstruct	2025-09-26 05:24:26.368569555 -0700
@@ -124,7 +124,7 @@ opts.Add(BoolVariable("tools", "Build th
 opts.Add(EnumVariable("target", "Compilation target", "debug", ("debug", "release_debug", "release")))
 opts.Add("arch", "Platform-dependent architecture (arm/arm64/x86/x64/mips/...)", "")
 opts.Add(EnumVariable("bits", "Target platform bits", "default", ("default", "32", "64")))
-opts.Add(EnumVariable("optimize", "Optimization type", "speed", ("speed", "size", "none")))
+opts.Add(EnumVariable("optimize", "Optimization type", "speed", ("speed", "size", "custom", "none")))
 opts.Add(BoolVariable("production", "Set defaults to build Godot for use in production", False))
 opts.Add(EnumVariable("lto", "Link-time optimization (production builds)", "none", ("none", "auto", "thin", "full")))
 
