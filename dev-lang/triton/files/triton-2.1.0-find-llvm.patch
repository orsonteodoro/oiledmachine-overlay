diff '--color=auto' -urp triton-2.1.0.orig/cmake/FindLLVM.cmake triton-2.1.0/cmake/FindLLVM.cmake
--- triton-2.1.0.orig/cmake/FindLLVM.cmake	2023-08-31 23:28:27.000000000 -0700
+++ triton-2.1.0/cmake/FindLLVM.cmake	2024-08-06 13:07:46.872197008 -0700
@@ -36,11 +36,13 @@ set(llvm_config_names llvm-config-6.0 ll
                       llvm-config)
 foreach(v RANGE 7 17)
     # names like llvm-config-7.0 llvm-config70 llvm-config-7 llvm-config-7-64
-    list(PREPEND llvm_config_names llvm-config-${v}.0 llvm-config${v}0 llvm-config-${v} llvm-config-${v}-64)
+    list(PREPEND llvm_config_names llvm-config-${v}.0 llvm-config${v}0 llvm-config-${v} llvm-config-${v}-64 llvm-config)
 endforeach()
 find_program(LLVM_CONFIG
     NAMES ${llvm_config_names}
-    PATHS ${LLVM_ROOT_DIR}/bin NO_DEFAULT_PATH
+    PATHS ${LLVM_ROOT_DIR}/bin
+          /usr/local/opt/llvm/bin
+          NO_DEFAULT_PATH
     DOC "Path to llvm-config tool.")
 find_program(LLVM_CONFIG NAMES ${llvm_config_names})
 if(APPLE)
@@ -52,7 +54,6 @@ if(APPLE)
               /opt/local/libexec/llvm/bin
               /usr/local/opt/llvm@11/bin /usr/local/opt/llvm@10/bin /usr/local/opt/llvm@9/bin
               /usr/local/opt/llvm@8/bin  /usr/local/opt/llvm@7/bin  /usr/local/opt/llvm@6/bin
-              /usr/local/opt/llvm/bin
         NO_DEFAULT_PATH)
 endif()
 
