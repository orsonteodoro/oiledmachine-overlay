diff -urp ispc-1.19.0_pre9999.orig/CMakeLists.txt ispc-1.19.0_pre9999/CMakeLists.txt
--- ispc-1.19.0_pre9999.orig/CMakeLists.txt	2022-12-23 21:19:53.391884542 -0800
+++ ispc-1.19.0_pre9999/CMakeLists.txt	2022-12-23 21:21:00.018530650 -0800
@@ -289,10 +289,7 @@ if (WASM_ENABLED)
     list(APPEND ISPC_TARGETS wasm-i32x4)
 endif()
 
-set(CLANG_LIBRARY_LIST clangFrontend clangDriver clangSerialization clangParse clangSema clangAnalysis clangAST clangBasic clangEdit clangLex)
-if (${LLVM_VERSION_NUMBER} VERSION_GREATER_EQUAL "15.0.0")
-    list(APPEND CLANG_LIBRARY_LIST clangSupport)
-endif()
+set(CLANG_LIBRARY_LIST clang clang-cpp)
 
 set(LLVM_COMPONENTS engine ipo bitreader bitwriter instrumentation linker option frontendopenmp)
 if (XE_ENABLED AND ${LLVM_VERSION_NUMBER} VERSION_GREATER_EQUAL "14.0.0")
@@ -551,11 +548,8 @@ if (NOT WIN32 AND NOT APPLE)
 endif()
 
 # Link against Clang libraries
-foreach(clangLib ${CLANG_LIBRARY_LIST})
-    find_library(${clangLib}Path NAMES ${clangLib} HINTS ${LLVM_LIBRARY_DIRS})
-    list(APPEND CLANG_LIBRARY_FULL_PATH_LIST ${${clangLib}Path})
-endforeach()
-target_link_libraries(${PROJECT_NAME} ${CLANG_LIBRARY_FULL_PATH_LIST})
+find_package(Clang REQUIRED)
+target_link_libraries(${PROJECT_NAME} ${CLANG_LIBRARY_LIST})
 
 # Link against LLVM libraries
 target_link_libraries(${PROJECT_NAME} ${LLVM_LIBRARY_LIST} ${CMAKE_DL_LIBS})
Only in ispc-1.19.0_pre9999: CMakeLists.txt.orig
Only in ispc-1.19.0_pre9999: CMakeLists.txt.rej
diff -urp ispc-1.19.0_pre9999.orig/src/llvmutil.cpp ispc-1.19.0_pre9999/src/llvmutil.cpp
--- ispc-1.19.0_pre9999.orig/src/llvmutil.cpp	2022-12-23 21:19:54.715937126 -0800
+++ ispc-1.19.0_pre9999/src/llvmutil.cpp	2022-12-23 21:20:25.045141656 -0800
@@ -46,6 +46,7 @@
 #include <llvm/IR/BasicBlock.h>
 #include <llvm/IR/Instructions.h>
 #include <llvm/IR/Module.h>
+#include <llvm/Support/raw_ostream.h>
 
 #ifdef ISPC_XE_ENABLED
 #include <llvm/GenXIntrinsics/GenXIntrinsics.h>
Only in ispc-1.19.0_pre9999/src: llvmutil.cpp.orig
