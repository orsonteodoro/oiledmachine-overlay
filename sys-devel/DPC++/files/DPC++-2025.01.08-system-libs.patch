diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/opencl/CMakeLists.txt llvm-nightly-2025-01-08/opencl/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/opencl/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/opencl/CMakeLists.txt	2025-05-24 21:24:21.296612064 -0700
@@ -23,29 +23,8 @@ set(OCL_LOADER_REPO
 set(OCL_HEADERS_TAG 542d7a8f65ecfd88b38de35d8b10aa67b36b33b2)
 set(OCL_LOADER_TAG 804b6f040503c47148bee535230070da6b857ae4)
 
-# OpenCL Headers
-if(NOT OpenCL_HEADERS)
-  message(STATUS "Will fetch OpenCL headers from ${OCL_HEADERS_REPO}")
-
-  FetchContent_Declare(ocl-headers
-    GIT_REPOSITORY    ${OCL_HEADERS_REPO}
-    GIT_TAG           ${OCL_HEADERS_TAG}
-  )
-else()
-  message(STATUS "OpenCL headers are added manually ${OpenCL_HEADERS}")
-
-  FetchContent_Declare(ocl-headers
-    URL               ${OpenCL_HEADERS}
-  )
-endif()
-
-FetchContent_MakeAvailable(ocl-headers)
-FetchContent_GetProperties(ocl-headers)
 set(OpenCL_INCLUDE_DIR
-  ${ocl-headers_SOURCE_DIR} CACHE PATH "Path to OpenCL Headers")
-
-target_compile_definitions(Headers INTERFACE -DCL_TARGET_OPENCL_VERSION=300)
-add_library(OpenCL-Headers ALIAS Headers)
+  /usr/include CACHE PATH "Path to OpenCL Headers")
 
 # OpenCL Library (ICD Loader)
 
@@ -57,25 +36,4 @@ set(OPENCL_ICD_LOADER_HEADERS_DIR
 # library.
 set(BUILD_SHARED_LIBS ON)
 
-if(NOT OpenCL_LIBRARY_SRC)
-  message(STATUS "Will fetch OpenCL ICD Loader from ${OCL_LOADER_REPO}")
-
-  FetchContent_Declare(ocl-icd
-    GIT_REPOSITORY    ${OCL_LOADER_REPO}
-    GIT_TAG           ${OCL_LOADER_TAG}
-  )
-else()
-  # TODO: add possibility to use prebuilt OpenCL library rather than building
-  #       together with llvm.
-  message(STATUS
-    "OpenCL ICD Loader sources added manually ${OpenCL_LIBRARY_SRC}")
-
-  FetchContent_Declare(ocl-icd
-    URL               ${OpenCL_LIBRARY_SRC}
-  )
-endif()
-
-FetchContent_MakeAvailable(ocl-icd)
-add_library(OpenCL-ICD ALIAS OpenCL)
-
 add_subdirectory(opencl-aot)
Only in llvm-nightly-2025-01-08/opencl: CMakeLists.txt.orig
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/opencl/opencl-aot/CMakeLists.txt llvm-nightly-2025-01-08/opencl/opencl-aot/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/opencl/opencl-aot/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/opencl/opencl-aot/CMakeLists.txt	2025-05-24 21:24:21.296779424 -0700
@@ -24,5 +24,5 @@ endif()
 
 target_link_libraries(${OPENCL_AOT_PROJECT_NAME}
   PRIVATE
-    OpenCL-Headers
-    OpenCL-ICD)
+    OpenCL
+)
Only in llvm-nightly-2025-01-08/opencl/opencl-aot: CMakeLists.txt.orig
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/sycl/CMakeLists.txt llvm-nightly-2025-01-08/sycl/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/sycl/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/sycl/CMakeLists.txt	2025-05-24 21:24:48.604426507 -0700
@@ -160,7 +160,7 @@ file(COPY ${OpenCL_INCLUDE_DIR}/CL DESTI
 # Include OpenCL Headers into final bundle.
 install(DIRECTORY ${OpenCL_INCLUDE_DIR}/CL
         DESTINATION ${SYCL_INCLUDE_DIR}
-        COMPONENT OpenCL-Headers)
+        COMPONENT OpenCL)
 
 # Option for enabling building the SYCL major release preview library.
 option(SYCL_ENABLE_MAJOR_RELEASE_PREVIEW_LIB "Enable build of the SYCL major release preview library" ON)
@@ -462,7 +462,7 @@ set( SYCL_TOOLCHAIN_DEPLOY_COMPONENTS
      sycl-post-link
      sycl-ls
      clang-resource-headers
-     OpenCL-Headers
+     OpenCL
      opencl-aot
      sycl-headers
      sycl-headers-extras
@@ -488,9 +488,7 @@ if (TARGET sycl-trace)
   list(APPEND SYCL_TOOLCHAIN_DEPLOY_COMPONENTS sycl-trace)
 endif()
 
-if(OpenCL_INSTALL_KHRONOS_ICD_LOADER AND TARGET OpenCL-ICD)
-  list(APPEND SYCL_TOOLCHAIN_DEPLOY_COMPONENTS OpenCL-ICD)
-endif()
+list(APPEND SYCL_TOOLCHAIN_DEPLOY_COMPONENTS OpenCL)
 
 # Build and install lld as part of the sycl-toolchain if available
 if("lld" IN_LIST LLVM_ENABLE_PROJECTS)
Only in llvm-nightly-2025-01-08/sycl: CMakeLists.txt.orig
Only in llvm-nightly-2025-01-08/sycl: CMakeLists.txt.rej
Only in llvm-nightly-2025-01-08/sycl/cmake/modules: AddSYCL.cmake.orig
Only in llvm-nightly-2025-01-08/sycl/cmake/modules: AddSYCL.cmake.rej
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/sycl/cmake/modules/AddSYCLUnitTest.cmake llvm-nightly-2025-01-08/sycl/cmake/modules/AddSYCLUnitTest.cmake
--- llvm-nightly-2025-01-08.orig/sycl/cmake/modules/AddSYCLUnitTest.cmake	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/sycl/cmake/modules/AddSYCLUnitTest.cmake	2025-05-24 21:25:47.979461690 -0700
@@ -71,7 +71,7 @@ macro(add_sycl_unittest test_dirname lin
   target_link_libraries(${test_dirname}
     PRIVATE
       LLVMTestingSupport
-      OpenCL-Headers
+      OpenCL
       unified-runtime::mock
       ${SYCL_LINK_LIBS}
     )
Only in llvm-nightly-2025-01-08/sycl/cmake/modules: AddSYCLUnitTest.cmake.orig
Only in llvm-nightly-2025-01-08/sycl/cmake/modules: AddSYCLUnitTest.cmake.rej
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/sycl/source/CMakeLists.txt llvm-nightly-2025-01-08/sycl/source/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/sycl/source/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/sycl/source/CMakeLists.txt	2025-05-24 21:24:24.805812568 -0700
@@ -144,7 +144,7 @@ function(add_sycl_rt_library LIB_NAME LI
   )
   #TODO: Remove dependency on opencl headers.
   target_link_libraries(${LIB_OBJ_NAME}
-    PRIVATE OpenCL-Headers
+    PRIVATE OpenCL
   )
 
   if(SYCL_ENABLE_EXTENSION_JIT)
Only in llvm-nightly-2025-01-08/sycl/source: CMakeLists.txt.orig
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/sycl/tools/sycl-ls/CMakeLists.txt llvm-nightly-2025-01-08/sycl/tools/sycl-ls/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/sycl/tools/sycl-ls/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/sycl/tools/sycl-ls/CMakeLists.txt	2025-05-24 21:26:10.091131423 -0700
@@ -14,7 +14,7 @@ target_compile_definitions(sycl-ls PRIVA
 target_link_libraries(sycl-ls
   PRIVATE
     ${sycl_lib}
-    OpenCL-Headers
+    OpenCL
     UnifiedRuntime-Headers
 )
 if (WIN32)
Only in llvm-nightly-2025-01-08/sycl/tools/sycl-ls: CMakeLists.txt.orig
Only in llvm-nightly-2025-01-08/sycl/tools/sycl-ls: CMakeLists.txt.rej
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/sycl/tools/sycl-prof/CMakeLists.txt llvm-nightly-2025-01-08/sycl/tools/sycl-prof/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/sycl/tools/sycl-prof/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/sycl/tools/sycl-prof/CMakeLists.txt	2025-05-24 21:24:24.828976017 -0700
@@ -15,9 +15,7 @@ target_compile_options(sycl-prof PRIVATE
 add_library(sycl_profiler_collector SHARED collector.cpp)
 target_compile_definitions(sycl_profiler_collector PRIVATE XPTI_CALLBACK_API_EXPORTS)
 target_link_libraries(sycl_profiler_collector PRIVATE xptifw)
-if (TARGET OpenCL-Headers)
-  target_link_libraries(sycl_profiler_collector PRIVATE OpenCL-Headers)
-endif()
+target_link_libraries(sycl_profiler_collector PRIVATE OpenCL)
 target_include_directories(sycl_profiler_collector PRIVATE
     "${sycl_inc_dir}"
     "${sycl_src_dir}"
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/sycl/tools/sycl-sanitize/CMakeLists.txt llvm-nightly-2025-01-08/sycl/tools/sycl-sanitize/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/sycl/tools/sycl-sanitize/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/sycl/tools/sycl-sanitize/CMakeLists.txt	2025-05-24 21:30:54.903153664 -0700
@@ -14,9 +14,7 @@ add_library(sycl_sanitizer_collector SHA
 target_compile_definitions(sycl_sanitizer_collector PRIVATE XPTI_CALLBACK_API_EXPORTS)
 target_link_libraries(sycl_sanitizer_collector PRIVATE xptifw)
 target_link_libraries(sycl_sanitizer_collector PRIVATE UnifiedRuntime-Headers)
-if (TARGET OpenCL-Headers)
-  target_link_libraries(sycl_sanitizer_collector PRIVATE OpenCL-Headers)
-endif()
+target_link_libraries(sycl_sanitizer_collector PRIVATE OpenCL)
 
 target_include_directories(sycl_sanitizer_collector PRIVATE
     "${CMAKE_CURRENT_SOURCE_DIR}/../xpti_helpers/"
Only in llvm-nightly-2025-01-08/sycl/tools/sycl-sanitize: CMakeLists.txt.orig
Only in llvm-nightly-2025-01-08/sycl/tools/sycl-sanitize: CMakeLists.txt.rej
diff '--color=auto' -urp llvm-nightly-2025-01-08.orig/sycl/tools/sycl-trace/CMakeLists.txt llvm-nightly-2025-01-08/sycl/tools/sycl-trace/CMakeLists.txt
--- llvm-nightly-2025-01-08.orig/sycl/tools/sycl-trace/CMakeLists.txt	2025-01-07 16:17:16.000000000 -0800
+++ llvm-nightly-2025-01-08/sycl/tools/sycl-trace/CMakeLists.txt	2025-05-24 21:31:58.182374321 -0700
@@ -76,9 +76,7 @@ endif()
 
 target_compile_definitions(sycl_ur_trace_collector PRIVATE XPTI_CALLBACK_API_EXPORTS)
 target_link_libraries(sycl_ur_trace_collector PRIVATE xptifw)
-if (TARGET OpenCL-Headers)
-  target_link_libraries(sycl_ur_trace_collector PRIVATE OpenCL-Headers)
-endif()
+target_link_libraries(sycl_ur_trace_collector PRIVATE OpenCL)
 target_link_libraries(sycl_ur_trace_collector PRIVATE UnifiedRuntime-Headers)
 
 target_include_directories(sycl_ur_trace_collector PRIVATE
Only in llvm-nightly-2025-01-08/sycl/tools/sycl-trace: CMakeLists.txt.orig
Only in llvm-nightly-2025-01-08/sycl/tools/sycl-trace: CMakeLists.txt.rej
