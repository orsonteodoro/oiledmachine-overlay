--- a/ui/qt/qt.gni.orig	2023-06-21 14:44:25.794376000 -0700
+++ b/ui/qt/qt.gni	2023-06-26 09:13:34.899572706 -0700
@@ -16,5 +16,4 @@ declare_args() {
   use_qt6 = use_qt && use_sysroot
 }
 
-# use_qt6 => use_qt
-assert(!use_qt6 || use_qt)
+assert(use_qt || use_qt6)
--- a/ui/linux/BUILD.gn.orig	2023-06-21 14:44:25.714369000 -0700
+++ b/ui/linux/BUILD.gn	2023-06-26 09:12:31.647571136 -0700
@@ -63,7 +63,7 @@ component("linux_ui_factory") {
     # This is the only component that can interact with gtk.
     deps += [ "//ui/gtk" ]
   }
-  if (use_qt) {
+  if (use_qt || use_qt6) {
     deps += [ "//ui/qt" ]
   }
 }
--- a/ui/base/BUILD.gn.orig	2023-06-21 14:44:25.050313200 -0700
+++ b/ui/base/BUILD.gn	2023-06-26 09:17:12.627578108 -0700
@@ -100,6 +100,7 @@ buildflag_header("buildflags") {
     "HAS_PLATFORM_ACCESSIBILITY_SUPPORT=$has_platform_accessibility_support",
     "USE_GTK=$use_gtk",
     "USE_QT=$use_qt",
+    "USE_QT6=$use_qt6",
   ]
 }
 
--- a/ui/linux/linux_ui_factory.cc.orig	2023-06-21 14:44:25.714369000 -0700
+++ b/ui/linux/linux_ui_factory.cc	2023-06-26 09:18:59.539580760 -0700
@@ -21,7 +21,7 @@
 #if BUILDFLAG(USE_GTK)
 #include "ui/gtk/gtk_ui_factory.h"
 #endif
-#if BUILDFLAG(USE_QT)
+#if BUILDFLAG(USE_QT) || BUILDFLAG(USE_QT6)
 #include "ui/qt/qt_ui.h"
 #endif
 
@@ -58,7 +58,7 @@ std::unique_ptr<LinuxUiAndTheme> CreateQ
   if (!base::FeatureList::IsEnabled(kAllowQt)) {
     return nullptr;
   }
-#if BUILDFLAG(USE_QT)
+#if BUILDFLAG(USE_QT) || BUILDFLAG(USE_QT6)
   auto qt_ui = qt::CreateQtUi(GetGtkUi());
   if (qt_ui->Initialize()) {
     return qt_ui;
--- a/ui/qt/BUILD.gn.orig	2023-06-21 14:44:25.794376000 -0700
+++ b/ui/qt/BUILD.gn	2023-06-26 09:20:46.835583422 -0700
@@ -7,7 +7,7 @@ import("//build/config/linux/pkg_config.
 import("//build/config/sysroot.gni")
 import("//ui/qt/qt.gni")
 
-assert(use_qt)
+assert(use_qt || use_qt6)
 assert(is_linux)
 assert(!is_castos)
 
@@ -94,8 +94,10 @@ template("qt_shim") {
     }
   }
 }
-qt_shim("qt5_shim") {
-  qt_version = "5"
+if (use_qt) {
+  qt_shim("qt5_shim") {
+    qt_version = "5"
+  }
 }
 if (use_qt6) {
   qt_shim("qt6_shim") {
@@ -109,7 +111,10 @@ component("qt") {
   defines = [ "IS_QT_IMPL" ]
 
   # qt_shim is in data_deps since we want to load it manually.
-  data_deps = [ ":qt5_shim" ]
+  data_deps = []
+  if (use_qt) {
+    data_deps = [ ":qt5_shim" ]
+  }
   if (use_qt6) {
     data_deps += [ ":qt6_shim" ]
   }
