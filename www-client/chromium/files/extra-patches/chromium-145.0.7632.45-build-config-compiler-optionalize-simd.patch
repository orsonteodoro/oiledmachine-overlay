--- a/build/config/compiler/BUILD.gn.orig	2026-02-03 14:07:10.000000000 -0800
+++ b/build/config/compiler/BUILD.gn	2026-02-11 20:24:39.180732270 -0800
@@ -18,6 +18,7 @@ import("//build/config/gclient_args.gni"
 import("//build/config/host_byteorder.gni")
 import("//build/config/pch.gni")
 import("//build/config/rust.gni")
+import("//build/config/simd.gni")
 import("//build/config/ui.gni")
 import("//build/config/unwind.gni")
 import("//build/toolchain/rbe.gni")
@@ -1294,7 +1295,9 @@ config("compiler_cpu_abi") {
         cflags += [ "-m64" ]
         ldflags += [ "-m64" ]
       }
-      cflags += [ "-msse3" ]
+      if (use_sse3) {
+        cflags += [ "-msse3" ]
+      }
       if (target_os == "chromeos" && cros_target_cpu_arch != "" &&
           current_cpu == target_cpu) {
         cflags += [ "-march=$cros_target_cpu_arch" ]
@@ -1308,10 +1311,12 @@ config("compiler_cpu_abi") {
         cflags += [ "-m32" ]
         ldflags += [ "-m32" ]
       }
-      cflags += [
-        "-mfpmath=sse",
-        "-msse3",
-      ]
+      if (use_sse3) {
+        cflags += [
+          "-mfpmath=sse",
+          "-msse3",
+        ]
+      }
     } else if (current_cpu == "arm") {
       if (is_clang && !is_android && !is_chromeos_device) {
         cflags += [ "--target=arm-linux-gnueabihf" ]
@@ -1410,9 +1415,13 @@ config("compiler_cpu_abi") {
       }
 
       if (mips_dsp_rev == 1) {
-        cflags += [ "-mdsp" ]
+        if (use_dsp) {
+          cflags += [ "-mdsp" ]
+        }
       } else if (mips_dsp_rev == 2) {
-        cflags += [ "-mdspr2" ]
+        if (use_dspr2) {
+          cflags += [ "-mdspr2" ]
+        }
       }
 
       cflags += [ "-m${mips_float_abi}-float" ]
