<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
<maintainer type="project">
  <!-- Only in this fork from the oiledmachine-overlay -->
  <email>orsonteodoro@hotmail.com</email>
  <name>Orson Teodoro</name>
</maintainer>
<maintainer type="project">
  <!-- Originator -->
  <email>mozilla@gentoo.org</email>
  <name>Gentoo Mozilla Team</name>
</maintainer>
<longdescription>

  Firefox is an HTML5 compatible web browser.

  This ebuild fork allows you to build 32 bit Firefox under 64 bit.  You can
  choose multiple ABIs.  This will allow you to support running (binary only or
  DRM [Digital Rights Management]) plugins that only support one particular
  major ABI.

  Benchmarks have shown reduced memory usage 10s-100s MB saved for running the
  32 bit version compared to 64 bit version.
	
  You need to add the following in /etc/portage/profile/package.use.force in
  order to select a non-native ABI.  Tweak below to add your masked ABI.
  ----- CUT BELOW HERE -----
www-client/firefox -abi_x86_64 -abi_x86_32 -abi_x86_x32 -abi_mips_n64 -abi_ppc_64 -abi_s390_64
  ----- CUT ABOVE HERE -----

  Due to constraints in the package manager spec if both ESR and rapid have the
  same version numbers, the e suffix in this overlay is refers to ESR.

  References:

  https://support.mozilla.org/en-US/kb/choosing-firefox-update-channel

  Updates for these ebuilds fork are planned when security updates or
  advisories are announced.

</longdescription>
<upstream>
  <changelog>
    https://www.mozilla.org/en-US/firefox/releases/
  </changelog>
  <bugs-to>
    https://developer.mozilla.org/en-US/docs/Mozilla/QA/Bug_writing_guidelines
  </bugs-to>
</upstream>
<use>
  <flag name="bindist">
    Disable official Firefox branding (icons, name) which are not
    binary-redistributable according to upstream.
  </flag>
  <flag name="ebolt">
    Use event based BOLT to optimize the cache use and branch prediction of
    this package.  (EXPERIMENTAL)
  </flag>
  <flag name="eme-free">
    Disable EME (DRM plugin) cabability at build time
  </flag>
  <flag name="jemalloc">
    Uses a memory allocator that will result in decreased memory consumption;
    otherwise, it will use the default Linux allocator.  For this ebuild it is
    recommended to turn jemalloc off as it may be more stable in the worst case
    high memory usage case.
  </flag>
  <flag name="geckodriver">
    Enable WebDriver support
  </flag>
  <flag name="gmp-autoupdate">
    Allow Gecko Media Plugins (binary blobs) to be automatically downloaded and
    kept up-to-date in user profiles
  </flag>
  <flag name="hwaccel">
    Force-enable hardware-accelerated rendering (Mozilla bug 594876)
  </flag>
  <flag name="libproxy">
    Enable libproxy support
  </flag>
  <flag name="libcanberra">
    Enable sound events support for browser dialogs and menu popups.
  </flag>
  <flag name="openh264">
    Use <pkg>media-libs/openh264</pkg> for H.264 support instead of downloading
    binary blob from Mozilla at runtime.  It is recommended to use the binary
    blob to avoid possible royalty fees.  See Wikipedia article.
  </flag>
  <flag name="pgo">
    Add support for profile-guided optimization using gcc-4.5, for faster
    binaries. This option will double the compile time.
  </flag>
  <flag name="pulseaudio">
    Use pulseaudio for audio output and microphone.  Disabling it may disable
    microphone support.
  </flag>
  <flag name="rust">
    Enable support for using rust compiler  (experimental)
  </flag>
  <flag name="screencast">
    Enable support for remote desktop and screen cast using
    <pkg>media-video/pipewire</pkg>
  </flag>
  <flag name="screenshot">
    Allow to disable screenshot extension in global profile
  </flag>
  <flag name="system-av1">
    Use the system-wide <pkg>media-libs/dav1d</pkg> and
    <pkg>media-libs/libaom</pkg> library instead of bundled.
  </flag>
  <flag name="system-harfbuzz">
    Use the system-wide <pkg>media-libs/harfbuzz</pkg> and
    <pkg>media-gfx/graphite2</pkg> instead of bundled.
  </flag>
  <flag name="system-icu">
    Use the system-wide <pkg>dev-libs/icu</pkg>	instead of bundled.
  </flag>
  <flag name="system-jpeg">
    Use the system-wide <pkg>media-libs/libjpeg-turbo</pkg> instead of bundled.
  </flag>
  <flag name="system-libevent">
    Use the system-wide <pkg>dev-libs/libevent</pkg> instead of bundled.
  </flag>
  <flag name="system-libvpx">
    Use the system-wide <pkg>media-libs/libvpx</pkg> iinstead of bundled.
  </flag>
  <flag name="system-sqlite">
    Use the system-wide <pkg>dev-db/sqlite</pkg> installation with secure-delete
    enabled
  </flag>
  <flag name="system-webp">
    Use the system-wide <pkg>media-libs/libwebp</pkg> instead of bundled.
  </flag>
  <flag name="webspeech">
    Enable input speech recognition for websites.
  </flag>
  <flag name="vaapi">
    Alias for USE=wayland to enable VA-API support.
  </flag>
  <flag name="wayland">
    Adds support for wayland, DMABUF, hardware video decoders.

    Disabling this USE flag may degrade WebGL performance below 25 FPS.
    Disabling this USE flag will disable VA-API [hardware accelerated video
    decoding with either VP8, VP9, AV1 if available].
  </flag>
</use>
<slots>
  <slot name="rapid">
    Major updates every 4 weeks with security and crash fixes every 4 weeks
    for consumers demand for newer faster feature availability.
  </slot>
  <slot name="esr">
    Major updates every 42 weeks with security and crash fixes every 4 weeks
    designed to meet the needs of organizations, businesses, educational
    institutions and to meet compatibility requirements with this
    Extended Support Release (ESR).
  </slot>
</slots>
</pkgmetadata>
