diff '--color=auto' -urp LocalAI-3.6.0.orig/backend/go/bark-cpp/Makefile LocalAI-3.6.0/backend/go/bark-cpp/Makefile
--- LocalAI-3.6.0.orig/backend/go/bark-cpp/Makefile	2025-10-03 01:03:34.000000000 -0700
+++ LocalAI-3.6.0/backend/go/bark-cpp/Makefile	2025-10-25 18:06:30.365827354 -0700
@@ -9,6 +9,7 @@ GOCMD=go
 # keep standard at C11 and C++11
 CXXFLAGS = -I. -I$(INCLUDE_PATH)/sources/bark.cpp/examples -I$(INCLUDE_PATH)/sources/bark.cpp/encodec.cpp/ggml/include -I$(INCLUDE_PATH)/sources/bark.cpp/spm-headers -I$(INCLUDE_PATH)/sources/bark.cpp -O3 -DNDEBUG -std=c++17 -fPIC
 LDFLAGS  = -L$(LIBRARY_PATH) -L$(LIBRARY_PATH)/sources/bark.cpp/build/examples -lbark -lstdc++ -lm
+OFFLINE?=1
 
 # bark.cpp
 BARKCPP_REPO?=https://github.com/PABannier/bark.cpp.git
@@ -19,10 +20,12 @@ CXXFLAGS += -Wall -Wextra -Wpedantic -Wc
 
 ## bark.cpp
 sources/bark.cpp:
+ifeq ($(OFFLINE),false)
 	git clone --recursive $(BARKCPP_REPO) sources/bark.cpp && \
 	cd sources/bark.cpp && \
 	git checkout $(BARKCPP_VERSION) && \
 	git submodule update --init --recursive --depth 1 --single-branch
+endif
 
 sources/bark.cpp/build/libbark.a: sources/bark.cpp
 	cd sources/bark.cpp && \
@@ -48,4 +51,4 @@ package:
 build: bark-cpp package
 
 clean:
-	rm -f gobark.o libbark.a
\ No newline at end of file
+	rm -f gobark.o libbark.a
diff '--color=auto' -urp LocalAI-3.6.0.orig/backend/go/stablediffusion-ggml/Makefile LocalAI-3.6.0/backend/go/stablediffusion-ggml/Makefile
--- LocalAI-3.6.0.orig/backend/go/stablediffusion-ggml/Makefile	2025-10-03 01:03:34.000000000 -0700
+++ LocalAI-3.6.0/backend/go/stablediffusion-ggml/Makefile	2025-10-25 18:06:07.806086893 -0700
@@ -5,6 +5,7 @@ NATIVE?=false
 GOCMD?=go
 GO_TAGS?=
 JOBS?=$(shell nproc --ignore=1)
+OFFLINE?=1
 
 # stablediffusion.cpp (ggml)
 STABLEDIFFUSION_GGML_REPO?=https://github.com/leejet/stable-diffusion.cpp
@@ -56,10 +57,12 @@ ifeq ($(BUILD_TYPE),sycl_f32)
 endif
 
 sources/stablediffusion-ggml.cpp:
+ifeq ($(OFFLINE),false)
 	git clone --recursive $(STABLEDIFFUSION_GGML_REPO) sources/stablediffusion-ggml.cpp && \
 	cd sources/stablediffusion-ggml.cpp && \
 	git checkout $(STABLEDIFFUSION_GGML_VERSION) && \
 	git submodule update --init --recursive --depth 1 --single-branch
+endif
 
 libgosd.so: sources/stablediffusion-ggml.cpp CMakeLists.txt gosd.cpp gosd.h
 	mkdir -p build && \
diff '--color=auto' -urp LocalAI-3.6.0.orig/Makefile LocalAI-3.6.0/Makefile
--- LocalAI-3.6.0.orig/Makefile	2025-10-03 01:03:34.000000000 -0700
+++ LocalAI-3.6.0/Makefile	2025-10-25 17:56:47.397489730 -0700
@@ -11,6 +11,7 @@ export BUILD_TYPE?=
 GO_TAGS?=
 BUILD_ID?=
 NATIVE?=false
+OFFLINE?=1
 
 TEST_DIR=/tmp/test
 
