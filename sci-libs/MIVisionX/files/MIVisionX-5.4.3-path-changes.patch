diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindAMDRPP.cmake MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindAMDRPP.cmake
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindAMDRPP.cmake	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindAMDRPP.cmake	2023-09-04 09:39:47.531807572 -0700
@@ -34,16 +34,16 @@ mark_as_advanced( AMDRPP_INCLUDE_DIRS )
 find_library( AMDRPP_LIBRARIES
     NAMES amd_rpp
     PATHS
-    /usr/lib
-    ${ROCM_PATH}/lib
+    @ESYSROOT@/usr/@LIBDIR@
+    ${ROCM_PATH}/@LIBDIR@
 )
 mark_as_advanced( AMDRPP_LIBRARIES_DIR )
 
 find_path(AMDRPP_LIBRARIES_DIR
     NAMES libamd_rpp.so
     PATHS
-    /usr/lib
-    ${ROCM_PATH}/lib
+    @ESYSROOT@/usr/@LIBDIR@
+    ${ROCM_PATH}/@LIBDIR@
 )
     
 include( FindPackageHandleStandardArgs )
@@ -61,4 +61,4 @@ set(AMDRPP_LIBRARIES_DIR ${AMDRPP_LIBRAR
 
 if( NOT AMDRPP_FOUND )
     message( "-- ${Yellow}NOTE: FindAMDRPP failed to find -- amd_rpp${ColourReset}" )
-endif()
\ No newline at end of file
+endif()
Only in MIVisionX-rocm-5.4.3/amd_openvx/cmake: FindAMDRPP.cmake.orig
Only in MIVisionX-rocm-5.4.3/amd_openvx/cmake: FindAMDRPP.cmake.rej
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindFFmpeg.cmake MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindFFmpeg.cmake
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindFFmpeg.cmake	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindFFmpeg.cmake	2023-09-04 09:39:12.027808046 -0700
@@ -31,7 +31,7 @@
 # FFMPEG_LIBRARIES - Link these to use ffmpeg
 ################################################################################
 
-set(ENV{PKG_CONFIG_PATH} "$ENV{PKG_CONFIG_PATH}:/usr/local/lib/pkgconfig")
+set(ENV{PKG_CONFIG_PATH} "$ENV{PKG_CONFIG_PATH}:@ESYSROOT@/usr/@LIBDIR@/pkgconfig")
 include(FindPackageHandleStandardArgs)
 
 find_package_handle_standard_args(
@@ -77,10 +77,10 @@ else()
   find_library(AVCODEC_LIBRARY
     NAMES avcodec
     PATHS ${_FFMPEG_AVCODEC_LIBRARY_DIRS}
-      /usr/local/lib
-      /usr/lib
-      /opt/local/lib
-      /sw/lib
+      @ESYSROOT@/usr/local/@LIBDIR@
+      @ESYSROOT@/usr/@LIBDIR@
+      @ESYSROOT@/opt/local/@LIBDIR@
+      @ESYSROOT@/sw/@LIBDIR@
   )
   mark_as_advanced(AVCODEC_LIBRARY)
 
@@ -98,10 +98,10 @@ else()
   find_library(AVFORMAT_LIBRARY
     NAMES avformat
     PATHS ${_FFMPEG_AVFORMAT_LIBRARY_DIRS}
-      /usr/local/lib
-      /usr/lib
-      /opt/local/lib
-      /sw/lib
+      @ESYSROOT@/usr/local/@LIBDIR@
+      @ESYSROOT@/usr/@LIBDIR@
+      @ESYSROOT@/opt/local/@LIBDIR@
+      @ESYSROOT@/sw/@LIBDIR@
   )
   mark_as_advanced(AVFORMAT_LIBRARY)
 
@@ -119,10 +119,10 @@ else()
   find_library(AVUTIL_LIBRARY
     NAMES avutil
     PATHS ${_FFMPEG_AVUTIL_LIBRARY_DIRS}
-      /usr/local/lib
-      /usr/lib
-      /opt/local/lib
-      /sw/lib
+      @ESYSROOT@/usr/local/@LIBDIR@
+      @ESYSROOT@/usr/@LIBDIR@
+      @ESYSROOT@/opt/local/@LIBDIR@
+      @ESYSROOT@/sw/@LIBDIR@
   )
   mark_as_advanced(AVUTIL_LIBRARY)
 
@@ -140,10 +140,10 @@ else()
   find_library(SWSCALE_LIBRARY
     NAMES swscale
     PATHS ${_FFMPEG_SWSCALE_LIBRARY_DIRS}
-      /usr/local/lib
-      /usr/lib
-      /opt/local/lib
-      /sw/lib
+      @ESYSROOT@/usr/local/@LIBDIR@
+      @ESYSROOT@/usr/@LIBDIR@
+      @ESYSROOT@/opt/local/@LIBDIR@
+      @ESYSROOT@/sw/@LIBDIR@
   )
   mark_as_advanced(SWSCALE_LIBRARY)
 
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindOpenCL.cmake MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindOpenCL.cmake
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindOpenCL.cmake	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindOpenCL.cmake	2023-09-04 09:39:13.099808031 -0700
@@ -57,38 +57,25 @@ else()
     mark_as_advanced( OPENCL_INCLUDE_DIRS )
 
     if("${CMAKE_SIZEOF_VOID_P}" EQUAL "8")
-        find_library( OPENCL_LIBRARIES
-            NAMES OpenCL
-            HINTS
-            $ENV{OPENCL_ROOT}/lib
-            $ENV{AMDAPPSDKROOT}/lib
-            $ENV{CUDA_PATH}/lib
-            $ENV{OCL_ROOT}/lib
-            DOC "OpenCL dynamic library path"
-            PATH_SUFFIXES x86_64 x64 x86_64/sdk
-            PATHS
-            ${ROCM_PATH}/lib/
-            /usr/lib
-            /usr/local/cuda/lib
-            /opt/cuda/lib
-        )
-    else( )
-        find_library( OPENCL_LIBRARIES
-            NAMES OpenCL
-            HINTS
-            $ENV{OPENCL_ROOT}/lib
-            $ENV{AMDAPPSDKROOT}/lib
-            $ENV{CUDA_PATH}/lib
-            $ENV{OCL_ROOT}/lib
-            DOC "OpenCL dynamic library path"
-            PATH_SUFFIXES x86 Win32
-            PATHS
-            ${ROCM_PATH}/lib/
-            /usr/lib
-            /usr/local/cuda/lib
-            /opt/cuda/lib
-        )
-    endif( )
+        set(_PATH_SUFFIXES "x86_64 x64 x86_64/sdk")
+    else()
+        set(_PATH_SUFFIXES "x86 Win32")
+    endif()
+    find_library( OPENCL_LIBRARIES
+        NAMES OpenCL
+        HINTS
+        $ENV{OPENCL_ROOT}/@LIBDIR@
+        $ENV{AMDAPPSDKROOT}/@LIBDIR@
+        $ENV{CUDA_PATH}/@LIBDIR@
+        $ENV{OCL_ROOT}/@LIBDIR@
+        DOC "OpenCL dynamic library path"
+        PATH_SUFFIXES ${_PATH_SUFFIXES}
+        PATHS
+        ${ROCM_PATH}/@LIBDIR@/
+        @ESYSROOT@/usr/@LIBDIR@
+        @ESYSROOT@/usr/local/cuda/@LIBDIR@
+        @ESYSROOT@/opt/cuda/@LIBDIR@
+    )
     mark_as_advanced( OPENCL_LIBRARIES )
 
     if(OPENCL_LIBRARIES AND OPENCL_INCLUDE_DIRS)
@@ -99,11 +86,11 @@ else()
     set(OpenCL_LIBRARIES ${OPENCL_LIBRARIES} CACHE INTERNAL "")
     set(OpenCL_INCLUDE_DIRS ${OPENCL_INCLUDE_DIRS} CACHE INTERNAL "")
 
-    if(EXISTS "${ROCM_PATH}/lib/libOpenCL.so")
-        if(NOT "${OPENCL_LIBRARIES}" STREQUAL "${ROCM_PATH}/lib/libOpenCL.so")
+    if(EXISTS "${ROCM_PATH}/@LIBDIR@/libOpenCL.so")
+        if(NOT "${OPENCL_LIBRARIES}" STREQUAL "${ROCM_PATH}/@LIBDIR@/libOpenCL.so")
             message("-- ${White}OpenCL Found - ${OPENCL_LIBRARIES}${ColourReset}")
             message("-- ${White}ROCm OpenCL Found - Force OpenCL_LIBRARIES & OpenCL_INCLUDE_DIRS to use ROCm OpenCL${ColourReset}")
-            set(OpenCL_LIBRARIES ${ROCM_PATH}/lib/libOpenCL.so CACHE INTERNAL "")
+            set(OpenCL_LIBRARIES ${ROCM_PATH}/@LIBDIR@/libOpenCL.so CACHE INTERNAL "")
             set(OpenCL_INCLUDE_DIRS ${ROCM_PATH}/include CACHE INTERNAL "")
         endif()
     else()
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindTurboJpeg.cmake MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindTurboJpeg.cmake
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/cmake/FindTurboJpeg.cmake	2023-09-04 09:38:56.459808254 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/cmake/FindTurboJpeg.cmake	2023-09-04 09:40:49.083806750 -0700
@@ -35,22 +35,18 @@ mark_as_advanced( TurboJpeg_INCLUDE_DIRS
 find_library( TurboJpeg_LIBRARIES
     NAMES libturbojpeg.so
     HINTS
-    $ENV{TURBO_JPEG_PATH}/lib
-    $ENV{TURBO_JPEG_PATH}/lib64
+    $ENV{TURBO_JPEG_PATH}/@LIBDIR@
     PATHS
-    ${TURBO_JPEG_PATH}/lib
-    ${TURBO_JPEG_PATH}/lib64
+    ${TURBO_JPEG_PATH}/@LIBDIR@
 )
 mark_as_advanced( TurboJpeg_LIBRARIES_DIR )
 
 find_path(TurboJpeg_LIBRARIES_DIR
     NAMES libturbojpeg.so
     HINTS
-    $ENV{TURBO_JPEG_PATH}/lib
-    $ENV{TURBO_JPEG_PATH}/lib64
+    $ENV{TURBO_JPEG_PATH}/@LIBDIR@
     PATHS
-    ${TURBO_JPEG_PATH}/lib
-    ${TURBO_JPEG_PATH}/lib64
+    ${TURBO_JPEG_PATH}/@LIBDIR@
 )
 
 include( FindPackageHandleStandardArgs )
Only in MIVisionX-rocm-5.4.3/amd_openvx/cmake: FindTurboJpeg.cmake.orig
Only in MIVisionX-rocm-5.4.3/amd_openvx/cmake: FindTurboJpeg.cmake.rej
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/ago/ago_platform.h MIVisionX-rocm-5.4.3/amd_openvx/openvx/ago/ago_platform.h
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/ago/ago_platform.h	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/openvx/ago/ago_platform.h	2023-09-04 09:39:13.099808031 -0700
@@ -95,7 +95,7 @@ using namespace std;
 #define SHARED_LIBRARY_PREFIX    "lib"
 #define SHARED_LIBRARY_EXTENSION ".dylib"
 #else
-#define SHARED_LIBRARY_PREFIX    "lib"
+#define SHARED_LIBRARY_PREFIX    "@LIBDIR@"
 #define SHARED_LIBRARY_EXTENSION ".so"
 #endif
 
@@ -163,4 +163,4 @@ extern BOOL ReleaseSemaphore(HANDLE hSem
 #define WAIT_OBJECT_0 0
 #endif
 
-#endif
\ No newline at end of file
+#endif
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx/openvx/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/openvx/CMakeLists.txt	2023-09-04 09:39:13.339808028 -0700
@@ -90,7 +90,7 @@ elseif (GPU_SUPPORT AND "${BACKEND}" STR
         set_target_properties(openvx PROPERTIES POSITION_INDEPENDENT_CODE ON)
         include_directories(${ROCM_PATH}/include)
         include_directories(hipvx)
-        link_directories(${HIP_PATH}/lib)
+        link_directories(${HIP_PATH}/@LIBDIR@)
         target_link_libraries(openvx hip::host)
         add_dependencies(openvx openvx_hip)
         target_link_libraries(openvx $<TARGET_OBJECTS:openvx_hip>)
@@ -112,7 +112,7 @@ target_link_libraries(vxu openvx)
 configure_file("${PROJECT_SOURCE_DIR}/include/openvx_backend.h.in" "${PROJECT_BINARY_DIR}/include/mivisionx/openvx_backend.h")
 install(FILES ${PROJECT_BINARY_DIR}/include/mivisionx/openvx_backend.h DESTINATION ${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
 
-# install MIVisionX libs -- {ROCM_PATH}/lib
+# install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
 install(TARGETS openvx DESTINATION ${CMAKE_INSTALL_LIBDIR})
 install(TARGETS vxu DESTINATION ${CMAKE_INSTALL_LIBDIR})
 # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
Only in MIVisionX-rocm-5.4.3/amd_openvx/openvx: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/hipvx/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx/openvx/hipvx/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/hipvx/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/openvx/hipvx/CMakeLists.txt	2023-09-04 09:39:13.339808028 -0700
@@ -36,11 +36,11 @@ list(APPEND HIPVX_SOURCES
 set_source_files_properties(${HIPVX_SOURCES} PROPERTIES HIP_SOURCE_PROPERTY_FORMAT 1)
 
 set(HIP_CXX_FLAGS -std=gnu++14)
-set(COMPILER_FOR_HIP ${ROCM_PATH}/llvm/bin/clang++)
+set(COMPILER_FOR_HIP @ESYSROOT_LLVM_PATH@/bin/clang++)
 set(CMAKE_CXX_COMPILER ${COMPILER_FOR_HIP})
 set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${HIP_CXX_FLAGS}")
 
 add_library(${PROJECT_NAME} OBJECT ${HIPVX_SOURCES})
 set_target_properties(${PROJECT_NAME} PROPERTIES POSITION_INDEPENDENT_CODE ON)
 target_compile_definitions(${PROJECT_NAME} PRIVATE __HIP_PLATFORM_AMD__)
-target_link_libraries(${PROJECT_NAME} hip::device)
\ No newline at end of file
+target_link_libraries(${PROJECT_NAME} hip::device)
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/include/vx_ext_amd.h MIVisionX-rocm-5.4.3/amd_openvx/openvx/include/vx_ext_amd.h
--- MIVisionX-rocm-5.4.3.orig/amd_openvx/openvx/include/vx_ext_amd.h	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx/openvx/include/vx_ext_amd.h	2023-09-04 09:39:13.339808028 -0700
@@ -415,7 +415,7 @@ typedef struct {
 #if defined(AMD_FP16_SUPPORT)
 /*! \brief A 16-bit float value.
  */
-#include <half/half.hpp>
+#include <half.hpp>
 using half_float::half;
 typedef half vx_float16;
 #endif
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_custom/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_custom/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom/CMakeLists.txt	2023-09-04 09:41:30.283806200 -0700
@@ -49,11 +49,11 @@ if(GPU_SUPPORT AND "${BACKEND}" STREQUAL
         message("-- ${Green}${PROJECT_NAME} -- Building with HIP backend${ColourReset}")
         set(ENABLE_HIP 1)
         add_definitions(-DENABLE_HIP=${ENABLE_HIP} -D__HIP_PLATFORM_AMD__)
-        link_directories(${HIP_PATH}/lib)
+        link_directories(${HIP_PATH}/@LIBDIR@)
         add_subdirectory(custom_lib)
         add_library(${PROJECT_NAME} SHARED ${SOURCES} $<TARGET_OBJECTS:custom_lib>)
         target_link_libraries(${PROJECT_NAME} openvx hip::host)
-        # install MIVisionX libs -- {ROCM_PATH}/lib
+        # install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
         install(TARGETS ${PROJECT_NAME} DESTINATION ${CMAKE_INSTALL_LIBDIR})
         # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
 	      install(FILES include/vx_amd_custom.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
@@ -74,8 +74,8 @@ else()
   add_subdirectory(custom_lib)
   add_library(${PROJECT_NAME} SHARED ${SOURCES} $<TARGET_OBJECTS:custom_lib>)
   target_link_libraries(${PROJECT_NAME} openvx hip::host)
-  # install MIVisionX libs -- {ROCM_PATH}/lib
+  # install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
   install(TARGETS ${PROJECT_NAME} DESTINATION ${CMAKE_INSTALL_LIBDIR})
   # install include files -- {ROCM_PATH}/include/mivisionx/
   install(FILES include/vx_amd_custom.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
-endif()
\ No newline at end of file
+endif()
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_custom/custom_lib/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom/custom_lib/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_custom/custom_lib/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom/custom_lib/CMakeLists.txt	2023-09-04 09:42:06.587805715 -0700
@@ -24,15 +24,15 @@ project(custom_lib)
 set(CMAKE_CXX_STANDARD 14)
 
 # ROCm Path
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 # avoid setting the default installation path to /usr/local
 if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
-  set(CMAKE_INSTALL_PREFIX ${ROCM_PATH} CACHE PATH "MIVisionX default installation path" FORCE)
+#_cmake_modify_IGNORE   set(CMAKE_INSTALL_PREFIX @EPREFIX_ROCM_PATH@ CACHE PATH "MIVisionX default installation path" FORCE)
 endif(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
 set(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
 
 # Add Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 # Find Modules
@@ -57,7 +57,7 @@ if(GPU_SUPPORT AND "${BACKEND}" STREQUAL
     if (HIP_FOUND)
         set(ENABLE_HIP 1)
         add_definitions(-DENABLE_HIP=${ENABLE_HIP} -D__HIP_PLATFORM_AMD__)
-        link_directories(${HIP_PATH}/lib)
+        link_directories(${HIP_PATH}/@LIBDIR@)
         add_library(${PROJECT_NAME} OBJECT ${CUSTOM_LIB_SOURCES})
     else()
         message("-- ${Red}WARNING: HIP Not Found -- ${PROJECT_NAME} not built${ColourReset}")
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom/custom_lib: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_custom/custom_lib: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_loomsl/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_loomsl/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_loomsl/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_loomsl/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -54,7 +54,7 @@ include_directories(. kernels)
 add_library(vx_loomsl SHARED ${SOURCES})
 target_link_libraries(vx_loomsl ${OpenCL_LIBRARIES} openvx)
 
-# install MIVisionX libs -- {ROCM_PATH}/lib
+# install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
 install(TARGETS vx_loomsl DESTINATION ${CMAKE_INSTALL_LIBDIR})
 # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
 install(FILES live_stitch_api.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_loomsl: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_media/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_media/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_media/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_media/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -42,7 +42,7 @@ elseif (GPU_SUPPORT AND "${BACKEND}" STR
     list(APPEND PACKAGE_DEPENDS PACKAGE HIP)
     add_definitions(-DENABLE_OPENCL=${ENABLE_OPENCL} -DENABLE_HIP=${ENABLE_HIP} -D__HIP_PLATFORM_AMD__)
     include_directories(${ROCM_PATH}/include)
-    link_directories(${ROCM_PATH}/lib)
+    link_directories(${ROCM_PATH}/@LIBDIR@)
     message("-- ${Green}amd_media -- Building with HIP${ColourReset}")
 endif()
 
@@ -77,7 +77,7 @@ elseif (GPU_SUPPORT AND "${BACKEND}" STR
     target_link_libraries(${PROJECT_NAME} hip::host)
 endif()
 
-# install MIVisionX libs -- {ROCM_PATH}/lib
+# install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
 install(TARGETS ${PROJECT_NAME} DESTINATION ${CMAKE_INSTALL_LIBDIR})
 # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
 install(FILES include/vx_amd_media.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_media: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_migraphx/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_migraphx/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_migraphx/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_migraphx/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -53,10 +53,10 @@ if(GPU_SUPPORT AND "${BACKEND}" STREQUAL
         message("-- ${Green}${PROJECT_NAME} -- Building with HIP backend${ColourReset}")
         set(ENABLE_HIP 1)
         add_definitions(-DENABLE_HIP=${ENABLE_HIP} -D__HIP_PLATFORM_AMD__)
-        link_directories(${HIP_PATH}/lib)
+        link_directories(${HIP_PATH}/@LIBDIR@)
         add_library(${PROJECT_NAME} SHARED ${SOURCES})
         target_link_libraries(${PROJECT_NAME} openvx migraphx::c hip::host)
-        # install MIVisionX libs -- {ROCM_PATH}/lib
+        # install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
         install(TARGETS ${PROJECT_NAME} DESTINATION ${CMAKE_INSTALL_LIBDIR})
         # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
 	install(FILES include/vx_amd_migraphx.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_migraphx: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_nn/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_nn/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_nn/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_nn/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -104,7 +104,7 @@ elseif (GPU_SUPPORT AND "${BACKEND}" STR
     set(ENABLE_HIP 1)
     add_definitions(-DENABLE_OPENCL=${ENABLE_OPENCL} -DENABLE_HIP=${ENABLE_HIP} -D__HIP_PLATFORM_AMD__)
     include_directories(${ROCM_PATH}/include)
-    link_directories(${HIP_PATH}/lib)
+    link_directories(${HIP_PATH}/@LIBDIR@)
     add_subdirectory(nn_hip)
     add_library(vx_nn SHARED ${SOURCES} $<TARGET_OBJECTS:nn_hip>)
     set_target_properties(openvx PROPERTIES LINKER_LANGUAGE CXX)
@@ -114,7 +114,7 @@ else()
     message("-- ${Red}WARNING: OpenCL/HIP Not Found -- amd_nn module excluded${ColourReset}")
 endif()
 
-# install MIVisionX libs -- {ROCM_PATH}/lib
+# install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
 install(TARGETS vx_nn DESTINATION ${CMAKE_INSTALL_LIBDIR})
 # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
 install(FILES include/vx_amd_nn.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_nn: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_nn/nn_hip/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_nn/nn_hip/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_nn/nn_hip/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_nn/nn_hip/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -27,11 +27,11 @@ set(NN_HIP_SOURCES
 
     set_source_files_properties(${NN_HIP_SOURCES} PROPERTIES HIP_SOURCE_PROPERTY_FORMAT 1)
     set(HIP_CXX_FLAGS -std=gnu++14)
-    set(COMPILER_FOR_HIP ${ROCM_PATH}/llvm/bin/clang++)
+    set(COMPILER_FOR_HIP @ESYSROOT_LLVM_PATH@/bin/clang++)
     set(CMAKE_CXX_COMPILER ${COMPILER_FOR_HIP})
     set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${HIP_CXX_FLAGS}")
 
     add_library(${PROJECT_NAME} OBJECT ${NN_HIP_SOURCES})
     set_target_properties(${PROJECT_NAME} PROPERTIES POSITION_INDEPENDENT_CODE ON)
     target_compile_definitions(${PROJECT_NAME} PRIVATE __HIP_PLATFORM_AMD__)
-    target_link_libraries(${PROJECT_NAME} hip::device)
\ No newline at end of file
+    target_link_libraries(${PROJECT_NAME} hip::device)
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_opencv/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_opencv/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_opencv/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_opencv/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -112,7 +112,7 @@ endif()
 target_link_libraries(vx_opencv openvx)
 target_compile_definitions(vx_opencv PUBLIC USE_OPENCV_CONTRIB=0)
 
-# install MIVisionX libs -- {ROCM_PATH}/lib
+# install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
 install(TARGETS vx_opencv DESTINATION ${CMAKE_INSTALL_LIBDIR})
 # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
 install(FILES include/vx_ext_opencv.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_opencv: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_rpp/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_rpp/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/amd_rpp/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_rpp/CMakeLists.txt	2023-09-04 09:42:28.491805422 -0700
@@ -142,7 +142,7 @@ elseif (GPU_SUPPORT AND "${BACKEND}" STR
     set(ENABLE_HIP 1)
     add_definitions(-DENABLE_OPENCL=${ENABLE_OPENCL} -DENABLE_HIP=${ENABLE_HIP} -DRPP_BACKEND_HIP=1 -D__HIP_PLATFORM_AMD__)
     include_directories(${ROCM_PATH}/include)
-    link_directories(${HIP_PATH}/lib)
+    link_directories(${HIP_PATH}/@LIBDIR@)
     add_library(vx_rpp SHARED ${SOURCES})
     set_target_properties(openvx PROPERTIES LINKER_LANGUAGE CXX)
     set_target_properties(openvx PROPERTIES POSITION_INDEPENDENT_CODE ON)
@@ -153,7 +153,7 @@ else()
     message("-- ${Red}WARNING: OpenCL/HIP Not Found -- amd_rpp module excluded${ColourReset}")
 endif()
 
-# install MIVisionX libs -- {ROCM_PATH}/lib
+# install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
 install(TARGETS vx_rpp DESTINATION ${CMAKE_INSTALL_LIBDIR})
 # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
 install(FILES include/vx_ext_rpp.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/mivisionx)
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_rpp: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions/amd_rpp: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/CMakeLists.txt MIVisionX-rocm-5.4.3/amd_openvx_extensions/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/amd_openvx_extensions/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/amd_openvx_extensions/CMakeLists.txt	2023-09-04 09:43:06.907804909 -0700
@@ -46,9 +46,9 @@ if(GPU_SUPPORT)
             endif()
         endif()
         list(APPEND CMAKE_PREFIX_PATH ${ROCM_PATH}/hip ${ROCM_PATH})
-        find_package(HIP QUIET)
+        find_package(HIP QUIET) 
         if(HIP_FOUND)
-            list(APPEND CMAKE_PREFIX_PATH ${ROCM_PATH}/llvm)
+            list(APPEND CMAKE_PREFIX_PATH @ESYSROOT_LLVM_PATH@)
         else()
             set(GPU_SUPPORT OFF)
         endif()
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/amd_openvx_extensions: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/apps/bubble_pop/CMakeLists.txt MIVisionX-rocm-5.4.3/apps/bubble_pop/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/apps/bubble_pop/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/bubble_pop/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -28,9 +28,9 @@ project(vx_pop)
 
 set(CMAKE_CXX_STANDARD 14)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 #Added Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 find_package(OpenCV REQUIRED)
diff -urp MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/README.md MIVisionX-rocm-5.4.3/apps/cloud_inference/README.md
--- MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/cloud_inference/README.md	2023-09-04 09:39:13.351808028 -0700
@@ -10,14 +10,14 @@ The cloud inference app is designed as a
 
 ## Inference Server Application - inference_server_app
 
-The [server application](server_app#mivisionx-inference-server) is built along with MIVisionX and placed in `/opt/rocm/bin` when MIVisionX is installed. The server application has a command-line interface.
+The [server application](server_app#mivisionx-inference-server) is built along with MIVisionX and placed in `@ESYSROOT_ROCM_PATH@/bin` when MIVisionX is installed. The server application has a command-line interface.
 
 usage:
 
 ``` 
  inference_server_app [-p <port> default:26262]
                       [-b <batch size> default:64]
-                      [-n <model compiler path> default:/opt/rocm/libexec/mivisionx/model_compiler/python]
+                      [-n <model compiler path> default:@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python]
                       [-w <server working directory> default:~/]
                       [-t <num cpu decoder threads [2-64]> default:1]
                       [-q <max pending batches>]
@@ -37,8 +37,8 @@ The [client application](client_app#anni
 **Step 1** - Launch **Inference Server Application** - this app is built and installed with the MIVisionX. You can launch the server using the following commands
 
 ``` 
-export PATH=$PATH:/opt/rocm/bin
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 inference_server_app
 ```
 
diff -urp MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/cmake/FindOpenCL.cmake MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/cmake/FindOpenCL.cmake
--- MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/cmake/FindOpenCL.cmake	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/cmake/FindOpenCL.cmake	2023-09-04 09:39:13.351808028 -0700
@@ -57,38 +57,25 @@ else()
     mark_as_advanced( OPENCL_INCLUDE_DIRS )
 
     if("${CMAKE_SIZEOF_VOID_P}" EQUAL "8")
-        find_library( OPENCL_LIBRARIES
-            NAMES OpenCL
-            HINTS
-            $ENV{OPENCL_ROOT}/lib
-            $ENV{AMDAPPSDKROOT}/lib
-            $ENV{CUDA_PATH}/lib
-            $ENV{OCL_ROOT}/lib
-            DOC "OpenCL dynamic library path"
-            PATH_SUFFIXES x86_64 x64 x86_64/sdk
-            PATHS
-            ${ROCM_PATH}/lib/
-            /usr/lib
-            /usr/local/cuda/lib
-            /opt/cuda/lib
-        )
-    else( )
-        find_library( OPENCL_LIBRARIES
-            NAMES OpenCL
-            HINTS
-            $ENV{OPENCL_ROOT}/lib
-            $ENV{AMDAPPSDKROOT}/lib
-            $ENV{CUDA_PATH}/lib
-            $ENV{OCL_ROOT}/lib
-            DOC "OpenCL dynamic library path"
-            PATH_SUFFIXES x86 Win32
-            PATHS
-            ${ROCM_PATH}/lib/
-            /usr/lib
-            /usr/local/cuda/lib
-            /opt/cuda/lib
-        )
-    endif( )
+        set(_PATH_SUFFIXES "x86_64 x64 x86_64/sdk")
+    else()
+        set(_PATH_SUFFIXES "x86 Win32")
+    endif()
+    find_library( OPENCL_LIBRARIES
+        NAMES OpenCL
+        HINTS
+        $ENV{OPENCL_ROOT}/@LIBDIR@
+        $ENV{AMDAPPSDKROOT}/@LIBDIR@
+        $ENV{CUDA_PATH}/@LIBDIR@
+        $ENV{OCL_ROOT}/@LIBDIR@
+        DOC "OpenCL dynamic library path"
+        PATH_SUFFIXES ${_PATH_SUFFIXES}
+        PATHS
+        ${ROCM_PATH}/@LIBDIR@/
+        @ESYSROOT@/usr/@LIBDIR@
+        @ESYSROOT@/usr/local/cuda/@LIBDIR@
+        @ESYSROOT@/opt/cuda/@LIBDIR@
+    )
     mark_as_advanced( OPENCL_LIBRARIES )
 
     if(OPENCL_LIBRARIES AND OPENCL_INCLUDE_DIRS)
@@ -99,11 +86,11 @@ else()
     set(OpenCL_LIBRARIES ${OPENCL_LIBRARIES} CACHE INTERNAL "")
     set(OpenCL_INCLUDE_DIRS ${OPENCL_INCLUDE_DIRS} CACHE INTERNAL "")
 
-    if(EXISTS "${ROCM_PATH}/lib/libOpenCL.so")
-        if(NOT "${OPENCL_LIBRARIES}" STREQUAL "${ROCM_PATH}/lib/libOpenCL.so")
+    if(EXISTS "${ROCM_PATH}/@LIBDIR@/libOpenCL.so")
+        if(NOT "${OPENCL_LIBRARIES}" STREQUAL "${ROCM_PATH}/@LIBDIR@/libOpenCL.so")
             message("-- ${White}OpenCL Found - ${OPENCL_LIBRARIES}${ColourReset}")
             message("-- ${White}ROCm OpenCL Found - Force OpenCL_LIBRARIES & OpenCL_INCLUDE_DIRS to use ROCm OpenCL${ColourReset}")
-            set(OpenCL_LIBRARIES ${ROCM_PATH}/lib/libOpenCL.so CACHE INTERNAL "")
+            set(OpenCL_LIBRARIES ${ROCM_PATH}/@LIBDIR@/libOpenCL.so CACHE INTERNAL "")
             set(OpenCL_INCLUDE_DIRS ${ROCM_PATH}/include CACHE INTERNAL "")
         endif()
     else()
diff -urp MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/CMakeLists.txt MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/CMakeLists.txt	2023-09-04 09:39:13.351808028 -0700
@@ -24,15 +24,15 @@ project(inference_server_app)
 set(CMAKE_CXX_STANDARD 14)
 
 # ROCm Path
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 # avoid setting the default installation path to /usr/local
 if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
-  set(CMAKE_INSTALL_PREFIX ${ROCM_PATH} CACHE PATH "MIVisionX default installation path" FORCE)
+#_cmake_modify_IGNORE   set(CMAKE_INSTALL_PREFIX @EPREFIX_ROCM_PATH@ CACHE PATH "MIVisionX default installation path" FORCE)
 endif(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
 set(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
 
 # Add Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 # Find Modules
Only in MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/README.md MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/README.md
--- MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/README.md	2023-09-04 09:39:13.355808028 -0700
@@ -9,7 +9,7 @@ Command-line usage:
 ````
   inference_server_app  [-p     <port>                           default:26262]
                         [-b     <batch size>                     default:64]
-                        [-n     <model compiler path>            default:/opt/rocm/libexec/mivisionx/model_compiler/python]
+                        [-n     <model compiler path>            default:@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python]
                         [-fp16  <ON:1 or OFF:0>                  default:0]
                         [-w     <server working directory>       default:~/]
                         [-t     <num cpu decoder threads [2-64]> default:1]
@@ -20,8 +20,8 @@ Command-line usage:
 
 Make sure that all executables and libraries are in `PATH` and `LD_LIBRARY_PATH` environment variables.
 ````
-% export PATH=$PATH:/opt/rocm/bin
-% export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+% export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+% export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ````
 
 The `inference_server_app` works with [Client Application](../client_app/README.md).
diff -urp MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/source/arguments.cpp MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/source/arguments.cpp
--- MIVisionX-rocm-5.4.3.orig/apps/cloud_inference/server_app/source/arguments.cpp	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/cloud_inference/server_app/source/arguments.cpp	2023-09-04 09:39:13.355808028 -0700
@@ -31,7 +31,7 @@ THE SOFTWARE.
 Arguments::Arguments()
         : workFolder{ "~" }, modelFileDownloadCounter{ 0 },
           password{ "radeon" },
-          modelCompilerPath{ "/opt/rocm/libexec/mivisionx/model_compiler/python" },
+          modelCompilerPath{ "@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python" },
           port{ 28282 }, batchSize{ 64 }, maxPendingBatches{ 4 }, numGPUs{ 1 }, gpuIdList{ 0 },
           maxGpuId{ 0 }, platform_id{ NULL }, num_devices{ 0 },  deviceUseCount{ 0 }
 {
@@ -278,7 +278,7 @@ static void show_usage()
     printf("\tinference_server_app");
     printf("\t[-p \t<port>\t\t\t\t default:26262]\n");
     printf("\t\t\t\t[-b \t<batch size>\t\t\t default:64]\n");
-    printf("\t\t\t\t[-n \t<model compiler path>\t\t default:/opt/rocm/libexec/mivisionx/model_compiler/python]\n");
+    printf("\t\t\t\t[-n \t<model compiler path>\t\t default:@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python]\n");
     printf("\t\t\t\t[-fp16 \t<ON:1 or OFF:0>\t\t\t default:0]\n");
     printf("\t\t\t\t[-w \t<server working directory>\t default:~/]\n");
     printf("\t\t\t\t[-t \t<num cpu decoder threads [2-64]> default:1]\n");
diff -urp MIVisionX-rocm-5.4.3.orig/apps/CMakeLists.txt MIVisionX-rocm-5.4.3/apps/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/apps/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/CMakeLists.txt	2023-09-04 09:39:13.355808028 -0700
@@ -21,9 +21,9 @@
 cmake_minimum_required (VERSION 3.0)
 project(mivisionx_applications)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm Installation Path")
 #Added Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 if(EXISTS ${ROCM_PATH}/${CMAKE_INSTALL_LIBDIR}/libopenvx.so)
diff -urp MIVisionX-rocm-5.4.3.orig/apps/dg_test/CMakeLists.txt MIVisionX-rocm-5.4.3/apps/dg_test/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/apps/dg_test/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/dg_test/CMakeLists.txt	2023-09-04 09:39:13.355808028 -0700
@@ -24,15 +24,15 @@ project(DGTest)
 set(CMAKE_CXX_STANDARD 14)
 
 # ROCm Path
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 # avoid setting the default installation path to /usr/local
 if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
-  set(CMAKE_INSTALL_PREFIX ${ROCM_PATH} CACHE PATH "MIVisionX default installation path" FORCE)
+#_cmake_modify_IGNORE   set(CMAKE_INSTALL_PREFIX @EPREFIX_ROCM_PATH@ CACHE PATH "MIVisionX default installation path" FORCE)
 endif(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
 set(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
 
 # Add Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 # OpenCV -- Display Component
diff -urp MIVisionX-rocm-5.4.3.orig/apps/image_augmentation/CMakeLists.txt MIVisionX-rocm-5.4.3/apps/image_augmentation/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/apps/image_augmentation/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/image_augmentation/CMakeLists.txt	2023-09-04 09:39:13.355808028 -0700
@@ -31,15 +31,15 @@ project(image_augmentation)
 set(CMAKE_CXX_STANDARD 14)
 
 # ROCm Path
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 # avoid setting the default installation path to /usr/local
 if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
-  set(CMAKE_INSTALL_PREFIX ${ROCM_PATH} CACHE PATH "MIVisionX default installation path" FORCE)
+#_cmake_modify_IGNORE   set(CMAKE_INSTALL_PREFIX @EPREFIX_ROCM_PATH@ CACHE PATH "MIVisionX default installation path" FORCE)
 endif(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
 set(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
 
 # Add Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 find_package(OpenCV QUIET)
diff -urp MIVisionX-rocm-5.4.3.orig/apps/image_augmentation/README.md MIVisionX-rocm-5.4.3/apps/image_augmentation/README.md
--- MIVisionX-rocm-5.4.3.orig/apps/image_augmentation/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/image_augmentation/README.md	2023-09-04 09:39:13.355808028 -0700
@@ -16,7 +16,7 @@ This application demonstrates the basic
 ### build
 
 ``` 
- export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
  mkdir build
  cd build
  cmake ../
diff -urp MIVisionX-rocm-5.4.3.orig/apps/mivisionx_inference_analyzer/mivisionx_inference_analyzer.py MIVisionX-rocm-5.4.3/apps/mivisionx_inference_analyzer/mivisionx_inference_analyzer.py
--- MIVisionX-rocm-5.4.3.orig/apps/mivisionx_inference_analyzer/mivisionx_inference_analyzer.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/mivisionx_inference_analyzer/mivisionx_inference_analyzer.py	2023-09-04 09:39:13.355808028 -0700
@@ -208,8 +208,8 @@ if __name__ == '__main__':
         FP16inference = True
 
     # set paths
-    modelCompilerPath = '/opt/rocm/libexec/mivisionx/model_compiler/python'
-    ADATPath= '/opt/rocm/libexec/mivisionx/toolkit/amd_data_analysis_toolkit/classification'
+    modelCompilerPath = '@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python'
+    ADATPath= '@ESYSROOT_ROCM_PATH@/libexec/mivisionx/toolkit/amd_data_analysis_toolkit/classification'
     setupDir = '~/.mivisionx-inference-analyzer'
     analyzerDir = os.path.expanduser(setupDir)
     modelDir = analyzerDir+'/'+modelName+'_dir'
diff -urp MIVisionX-rocm-5.4.3.orig/apps/mivisionx_inference_analyzer/README.md MIVisionX-rocm-5.4.3/apps/mivisionx_inference_analyzer/README.md
--- MIVisionX-rocm-5.4.3.orig/apps/mivisionx_inference_analyzer/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/mivisionx_inference_analyzer/README.md	2023-09-04 09:39:13.355808028 -0700
@@ -61,9 +61,9 @@ MIVisionX provides developers with [dock
 * Test display with MIVisionX sample
 
   ``` 
-  % export PATH=$PATH:/opt/rocm/bin
-  % export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
-  % runvx /opt/rocm/share/mivisionx/samples/gdf/canny.gdf
+  % export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+  % export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
+  % runvx @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/gdf/canny.gdf
   ```
 
 * Run [Samples](#samples)
@@ -147,7 +147,7 @@ usage: python3 mivisionx_inference_analy
   **Note:**
 
   + MIVisionX needs to be pre-installed
-  + MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+  + MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
   + ONNX model conversion requires ONNX install using `pip install onnx` 	
 
 * **Step 2:** Download pre-trained SqueezeNet ONNX model from [ONNX Model Zoo](https://github.com/onnx/models#open-neural-network-exchange-onnx-model-zoo) - [SqueezeNet Model](https://s3.amazonaws.com/download.onnx/models/opset_8/squeezenet.tar.gz)
@@ -197,7 +197,7 @@ usage: python3 mivisionx_inference_analy
   **Note:**
 
   + MIVisionX needs to be pre-installed
-  + MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+  + MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
  
 * **Step 2:** Download pre-trained VGG 16 caffe model - [VGG_ILSVRC_16_layers.caffemodel](http://www.robots.ox.ac.uk/~vgg/software/very_deep/caffe/VGG_ILSVRC_16_layers.caffemodel)
 
@@ -239,7 +239,7 @@ usage: python3 mivisionx_inference_analy
   **Note:**
 
   + MIVisionX needs to be pre-installed
-  + MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+  + MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
   + NNEF model conversion requires [NNEF python parser](https://github.com/KhronosGroup/NNEF-Tools/tree/master/parser#nnef-parser-project) installed
 
 * **Step 2:** Download pre-trained VGG 16 NNEF model
diff -urp MIVisionX-rocm-5.4.3.orig/apps/mivisionx_openvx_classifier/CMakeLists.txt MIVisionX-rocm-5.4.3/apps/mivisionx_openvx_classifier/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/apps/mivisionx_openvx_classifier/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/mivisionx_openvx_classifier/CMakeLists.txt	2023-09-04 09:39:13.355808028 -0700
@@ -27,15 +27,15 @@ cmake_minimum_required(VERSION 3.0)
 project(classifier)
 
 # ROCm Path
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 # avoid setting the default installation path to /usr/local
 if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
-  set(CMAKE_INSTALL_PREFIX ${ROCM_PATH} CACHE PATH "MIVisionX default installation path" FORCE)
+#_cmake_modify_IGNORE   set(CMAKE_INSTALL_PREFIX @EPREFIX_ROCM_PATH@ CACHE PATH "MIVisionX default installation path" FORCE)
 endif(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
 set(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
 
 # Add Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 # OpenCV -- Display Component
diff -urp MIVisionX-rocm-5.4.3.orig/apps/mivisionx_openvx_classifier/README.md MIVisionX-rocm-5.4.3/apps/mivisionx_openvx_classifier/README.md
--- MIVisionX-rocm-5.4.3.orig/apps/mivisionx_openvx_classifier/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/mivisionx_openvx_classifier/README.md	2023-09-04 09:39:13.355808028 -0700
@@ -64,30 +64,30 @@ Here is the sample download [link](https
 
 2. Use [MIVisionX Model Compiler](https://github.com/GPUOpen-ProfessionalCompute-Libraries/MIVisionX/tree/master/model_compiler#neural-net-model-compiler--optimizer) to extract weights.bin from the pre-trained caffe models
 
-**Note:** MIVisionX installs all the model compiler scripts in `/opt/rocm/libexec/mivisionx/model_compiler/python/` folder
+**Note:** MIVisionX installs all the model compiler scripts in `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/` folder
 
   + Convert the pre-trained caffemodel into AMD NNIR model:
 
   ``` 
-  % python /opt/rocm/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py <net.caffeModel> <nnirOutputFolder> --input-dims <n,c,h,w> [--verbose <0|1>]
+  % python @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py <net.caffeModel> <nnirOutputFolder> --input-dims <n,c,h,w> [--verbose <0|1>]
   ```
 
   Sample:
 
     ``` 
-    % python /opt/rocm/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py VGG_ILSVRC_16_layers.caffemodel VGG16_NNIR --input-dims 1,3,224,224
+    % python @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py VGG_ILSVRC_16_layers.caffemodel VGG16_NNIR --input-dims 1,3,224,224
     ```
 
   + Convert an AMD NNIR model into OpenVX C code:
 
   ``` 
-  % python /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py <nnirModelFolder> <nnirModelOutputFolder>
+  % python @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py <nnirModelFolder> <nnirModelOutputFolder>
   ```
 
   Sample:
 
     ``` 
-    % python /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py VGG16_NNIR VGG16_OpenVX
+    % python @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py VGG16_NNIR VGG16_OpenVX
     ```
 
   **Note:** The weights.bin file will be generated inside the OpenVX folder and you can use that as an input for this project.
@@ -112,7 +112,7 @@ Run classification on the live camera fe
 
 * **Step 1:** Install all the Prerequisites
 
- **Note:** MIVisionX installs all the model compiler scripts in `/opt/rocm/libexec/mivisionx/model_compiler/python/` folder
+ **Note:** MIVisionX installs all the model compiler scripts in `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/` folder
 
 * **Step 2:** Download pre-trained VGG 16 caffe model - [VGG_ILSVRC_16_layers.caffemodel](http://www.robots.ox.ac.uk/~vgg/software/very_deep/caffe/VGG_ILSVRC_16_layers.caffemodel)
 
@@ -121,13 +121,13 @@ Run classification on the live camera fe
  + Convert .caffemodel to NNIR
 
 ``` 
- % python /opt/rocm/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py VGG_ILSVRC_16_layers.caffemodel VGG16_NNIR --input-dims 1,3,224,224
+ % python @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py VGG_ILSVRC_16_layers.caffemodel VGG16_NNIR --input-dims 1,3,224,224
 ```
 
  + Convert NNIR to OpenVX
 
 ``` 
- % python /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py VGG16_NNIR VGG16_OpenVX
+ % python @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py VGG16_NNIR VGG16_OpenVX
 ```
 
  **Note:** Use weights.bin generated in VGG16_OpenVX folder to run the classifier on live video
diff -urp MIVisionX-rocm-5.4.3.orig/apps/mivisionx_validation_tool/inference_setup.py MIVisionX-rocm-5.4.3/apps/mivisionx_validation_tool/inference_setup.py
--- MIVisionX-rocm-5.4.3.orig/apps/mivisionx_validation_tool/inference_setup.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/mivisionx_validation_tool/inference_setup.py	2023-09-04 09:39:13.355808028 -0700
@@ -83,8 +83,8 @@ class modelInference(QtCore.QObject):
                 modelBatchSize, outputDir, inputAdd, inputMultiply, verbose, fp16, replaceModel, loop, rocal_mode, origQueue, augQueue, gui, totalImages, fps_file, parent=None):
 
         super(modelInference, self).__init__(parent)
-        self.modelCompilerPath = '/opt/rocm/libexec/mivisionx/model_compiler/python'
-        self.ADATPath = '/opt/rocm/libexec/mivisionx/toolkit/analysis_and_visualization/classification'
+        self.modelCompilerPath = '@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python'
+        self.ADATPath = '@ESYSROOT_ROCM_PATH@/libexec/mivisionx/toolkit/analysis_and_visualization/classification'
         self.setupDir = '~/.mivisionx-validation-tool'
 
         self.analyzerDir = os.path.expanduser(self.setupDir)
diff -urp MIVisionX-rocm-5.4.3.orig/apps/mivisionx_validation_tool/README.md MIVisionX-rocm-5.4.3/apps/mivisionx_validation_tool/README.md
--- MIVisionX-rocm-5.4.3.orig/apps/mivisionx_validation_tool/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/mivisionx_validation_tool/README.md	2023-09-04 09:39:13.355808028 -0700
@@ -50,8 +50,8 @@ Pre-trained models in [ONNX](https://onn
 * Export Path & Libraries required
 
 ``` 
-	export PATH=$PATH:/opt/rocm/bin
-	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+	export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ```
 
 **NOTE:**
@@ -88,9 +88,9 @@ sudo docker run -it --device=/dev/kfd --
 * Test display with MIVisionX sample
 
 ``` 
-export PATH=$PATH:/opt/rocm/bin
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
-runvx /opt/rocm/share/mivisionx/samples/gdf/canny.gdf
+export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
+runvx @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/gdf/canny.gdf
 ```
 
 * Run [Samples](#samples)
@@ -178,7 +178,7 @@ usage: python mivisionx_validation_tool.
 	**Note:**
 
   + MIVisionX needs to be pre-installed
-  + MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+  + MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
   + ONNX model conversion requires ONNX install using `pip install onnx` 	
 
 * **Step 2:** Download pre-trained SqueezeNet ONNX model from [ONNX Model Zoo](https://github.com/onnx/models#open-neural-network-exchange-onnx-model-zoo) - [SqueezeNet Model](https://s3.amazonaws.com/download.onnx/models/opset_8/squeezenet.tar.gz)
@@ -199,8 +199,8 @@ usage: python mivisionx_validation_tool.
 
     ``` 
 	cd ~/sample-1/MIVisionX-validation-tool/
-	export PATH=$PATH:/opt/rocm/bin
-	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+	export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 	python mivisionx_validation_tool.py -h
     ```
 
@@ -230,7 +230,7 @@ usage: python mivisionx_validation_tool.
   **Note:**
 
   + MIVisionX needs to be pre-installed
-  + MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+  + MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
 
 * **Step 2:** Download pre-trained VGG 16 caffe model - [VGG_ILSVRC_16_layers.caffemodel](http://www.robots.ox.ac.uk/~vgg/software/very_deep/caffe/VGG_ILSVRC_16_layers.caffemodel)
 
@@ -244,8 +244,8 @@ usage: python mivisionx_validation_tool.
 
     ``` 
 	cd ~/sample-2/MIVisionX-validation-tool/
-	export PATH=$PATH:/opt/rocm/bin
-	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+	export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 	python mivisionx_validation_tool.py -h
     ```
 
@@ -273,7 +273,7 @@ usage: python mivisionx_validation_tool.
   **Note:**
 
   + MIVisionX needs to be pre-installed
-  + MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+  + MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
   + NNEF model conversion requires [NNEF python parser](https://github.com/KhronosGroup/NNEF-Tools/tree/master/parser#nnef-parser-project) installed
 
 * **Step 2:** Download pre-trained VGG 16 NNEF model
@@ -290,8 +290,8 @@ usage: python mivisionx_validation_tool.
 
     ``` 
 	cd ~/sample-3/MIVisionX-validation-tool/
-	export PATH=$PATH:/opt/rocm/bin
-	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+	export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 	python mivisionx_validation_tool.py -h
     ```
 
diff -urp MIVisionX-rocm-5.4.3.orig/apps/optical_flow/CMakeLists.txt MIVisionX-rocm-5.4.3/apps/optical_flow/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/apps/optical_flow/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/optical_flow/CMakeLists.txt	2023-09-04 09:39:13.355808028 -0700
@@ -30,9 +30,9 @@ project(opticalFlow)
 
 set(CMAKE_CXX_STANDARD 14)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "Deafult ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Deafult ROCm Installation Path")
 #Added Default libdir
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 find_package(OpenCV REQUIRED)
diff -urp MIVisionX-rocm-5.4.3.orig/apps/optical_flow/README.md MIVisionX-rocm-5.4.3/apps/optical_flow/README.md
--- MIVisionX-rocm-5.4.3.orig/apps/optical_flow/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/apps/optical_flow/README.md	2023-09-04 09:39:13.355808028 -0700
@@ -45,7 +45,7 @@ Build OpenVX on Linux
 * **Step - 2:** Export OpenVX Directory Path
 
 ```
-export OPENVX_DIR=/opt/rocm/
+export OPENVX_DIR=@ESYSROOT_ROCM_PATH@/
 ```
 
 
@@ -53,7 +53,7 @@ export OPENVX_DIR=/opt/rocm/
 
 ```
 mkdir opticalFlow-build && cd opticalFlow-build
-cmake -DOPENVX_INCLUDES=$OPENVX_DIR/include/mivisionx -DOPENVX_LIBRARIES=$OPENVX_DIR/lib/libopenvx.so ../optical_flow
+cmake -DOPENVX_INCLUDES=$OPENVX_DIR/include/mivisionx -DOPENVX_LIBRARIES=$OPENVX_DIR/@LIBDIR@/libopenvx.so ../optical_flow
 make
 ```
 
diff -urp MIVisionX-rocm-5.4.3.orig/CMakeLists.txt MIVisionX-rocm-5.4.3/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/CMakeLists.txt	2023-09-04 09:39:13.355808028 -0700
@@ -22,7 +22,7 @@ cmake_minimum_required(VERSION 3.0)
 project(MIVisionX)
 set(VERSION "2.4.0")
 
-set(CMAKE_INSTALL_LIBDIR "lib" CACHE STRING "Library install directory")
+set(CMAKE_INSTALL_LIBDIR "@LIBDIR@" CACHE STRING "Library install directory")
 include(GNUInstallDirs)
 
 set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR})
@@ -33,10 +33,10 @@ find_program(MAKE_NSIS_EXE makensis)
 find_program(RPMBUILD_EXE rpmbuild)
 find_program(DPKG_EXE dpkg)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 # avoid setting the default installation path to /usr/local
 if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
-  set(CMAKE_INSTALL_PREFIX ${ROCM_PATH} CACHE PATH "MIVisionX default installation path" FORCE)
+#_cmake_modify_IGNORE   set(CMAKE_INSTALL_PREFIX @EPREFIX_ROCM_PATH@ CACHE PATH "MIVisionX default installation path" FORCE)
 endif(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
 set(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
 
@@ -98,7 +98,7 @@ message("-- ${BoldBlue}MIVisionX Backend
 
 # MIVisionX Build Type
 if(NOT CMAKE_BUILD_TYPE)
-  set(CMAKE_BUILD_TYPE "${DEFAULT_BUILD_TYPE}" CACHE STRING "MIVisionX Default Build Type" FORCE)
+#_cmake_modify_IGNORE   set(CMAKE_BUILD_TYPE "${DEFAULT_BUILD_TYPE}" CACHE STRING "MIVisionX Default Build Type" FORCE)
   set_property(CACHE CMAKE_BUILD_TYPE PROPERTY STRINGS "Debug" "Release")
 endif()
 if(CMAKE_BUILD_TYPE MATCHES Debug)
Only in MIVisionX-rocm-5.4.3: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-centos7.dockerfile MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-centos7.dockerfile
--- MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-centos7.dockerfile	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-centos7.dockerfile	2023-09-04 09:39:13.355808028 -0700
@@ -34,7 +34,7 @@ RUN cd conformance_tests/build-cts-openc
 # install MIVisionX HIP
 RUN mkdir build-hip && cd build-hip && cmake3 ../MIVisionX -DBACKEND=HIP && make -j8
 RUN cd conformance_tests && mkdir build-cts-hip && cd build-cts-hip && \
-        cmake3 -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;/opt/rocm/hip/lib/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
+        cmake3 -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;@ESYSROOT_ROCM_PATH@/@LIBDIR@/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
         cmake3 --build .
 RUN cd conformance_tests/build-cts-hip && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-HIP-centos7.md && \
         AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-HIP-centos7.md && \
diff -urp MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-centos8.dockerfile MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-centos8.dockerfile
--- MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-centos8.dockerfile	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-centos8.dockerfile	2023-09-04 09:39:13.355808028 -0700
@@ -30,7 +30,7 @@ RUN cd conformance_tests/build-cts-openc
 # install MIVisionX HIP
 RUN mkdir build-hip && cd build-hip && cmake ../MIVisionX -DBACKEND=HIP && make -j8
 RUN cd conformance_tests && mkdir build-cts-hip && cd build-cts-hip && \
-        cmake -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;/opt/rocm/hip/lib/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
+        cmake -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;@ESYSROOT_ROCM_PATH@/@LIBDIR@/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
         cmake --build .
 RUN cd conformance_tests/build-cts-hip && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-HIP-centos7.md && \
         AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-HIP-centos7.md && \
diff -urp MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-ubuntu18.dockerfile MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-ubuntu18.dockerfile
--- MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-ubuntu18.dockerfile	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-ubuntu18.dockerfile	2023-09-04 09:39:13.355808028 -0700
@@ -35,7 +35,7 @@ RUN cd conformance_tests/build-cts-openc
 # install MIVisionX HIP
 RUN mkdir build-hip && cd build-hip && cmake ../MIVisionX -DBACKEND=HIP && make -j8
 RUN cd conformance_tests && mkdir build-cts-hip && cd build-cts-hip && \
-        cmake -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;/opt/rocm/hip/lib/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
+        cmake -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;@ESYSROOT_ROCM_PATH@/@LIBDIR@/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
         cmake --build .
 RUN cd conformance_tests/build-cts-hip && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-HIP-centos7.md && \
         AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-HIP-centos7.md && \
diff -urp MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-ubuntu20.dockerfile MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-ubuntu20.dockerfile
--- MIVisionX-rocm-5.4.3.orig/docker/conformance/openvx-1-3-on-ubuntu20.dockerfile	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/docker/conformance/openvx-1-3-on-ubuntu20.dockerfile	2023-09-04 09:39:13.355808028 -0700
@@ -34,7 +34,7 @@ RUN cd conformance_tests/build-cts-openc
 # install MIVisionX HIP
 RUN mkdir build-hip && cd build-hip && cmake ../MIVisionX -DBACKEND=HIP && make -j8
 RUN cd conformance_tests && mkdir build-cts-hip && cd build-cts-hip && \
-        cmake -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;/opt/rocm/hip/lib/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
+        cmake -DOPENVX_INCLUDES=$OPENVX_INC/include -DOPENVX_LIBRARIES=$OPENVX_DIR_HIP/lib/libopenvx.so\;$OPENVX_DIR_HIP/lib/libvxu.so\;@ESYSROOT_ROCM_PATH@/@LIBDIR@/libamdhip64.so\;pthread\;dl\;m\;rt -DOPENVX_CONFORMANCE_VISION=ON ../OpenVX-cts && \
         cmake --build .
 RUN cd conformance_tests/build-cts-hip && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-HIP-centos7.md && \
         AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-HIP-centos7.md && \
diff -urp MIVisionX-rocm-5.4.3.orig/docker/conformance/system_info.py MIVisionX-rocm-5.4.3/docker/conformance/system_info.py
--- MIVisionX-rocm-5.4.3.orig/docker/conformance/system_info.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/docker/conformance/system_info.py	2023-09-04 09:39:13.355808028 -0700
@@ -79,9 +79,9 @@ gpu_info = gpu_info.rstrip()  # strip ou
 memory_info = shell('inxi -c 0 -m')
 board_info = shell('inxi -c0 -M')
 
-vbios = shell('(cd /opt/rocm/bin/; ./rocm-smi -v)')
+vbios = shell('(cd @ESYSROOT_ROCM_PATH@/bin/; ./rocm-smi -v)')
 
-rocmInfo = shell('(cd /opt/rocm/bin/; ./rocm-smi -a)')
+rocmInfo = shell('(cd @ESYSROOT_ROCM_PATH@/bin/; ./rocm-smi -a)')
 
 rocm_packages = shell('dpkg-query -W | grep rocm')
 rocm_packages = rocm_packages.splitlines()
diff -urp MIVisionX-rocm-5.4.3.orig/MIVisionX-setup.py MIVisionX-rocm-5.4.3/MIVisionX-setup.py
--- MIVisionX-rocm-5.4.3.orig/MIVisionX-setup.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/MIVisionX-setup.py	2023-09-04 09:45:13.259803222 -0700
@@ -55,8 +55,8 @@ parser.add_argument('--reinstall', 	type
                     help='Remove previous setup and reinstall - optional (default:no) [options:yes/no]')
 parser.add_argument('--backend', 	type=str, default='HIP',
                     help='MIVisionX Dependency Backend - optional (default:HIP) [options:CPU/OCL/HIP]')
-parser.add_argument('--rocm_path', 	type=str, default='/opt/rocm',
-                    help='ROCm Installation Path - optional (default:/opt/rocm) - ROCm Installation Required')
+parser.add_argument('--rocm_path', 	type=str, default='@ESYSROOT_ROCM_PATH@',
+                    help='ROCm Installation Path - optional (default:@ESYSROOT_ROCM_PATH@) - ROCm Installation Required')
 args = parser.parse_args()
 
 setupDir = args.directory
@@ -103,7 +103,7 @@ else:
     if backend != 'CPU':
         print("\nWARNING: ROCm Not Found at -- "+ROCM_PATH+"\n")
         print(
-            "WARNING: Set ROCm Path with \"--rocm_path\" option for full installation [Default:/opt/rocm]\n")
+            "WARNING: Set ROCm Path with \"--rocm_path\" option for full installation [Default:@ESYSROOT_ROCM_PATH@]\n")
         print("WARNING: Only OpenCV will be installed\n")
     else:
         print("\nCPU Only Install: OpenCV will be installed\n")
@@ -390,7 +390,7 @@ else:
             os.system(
                 '(cd '+deps_dir+'; git clone -b 2.0.6.2 https://github.com/rrawther/libjpeg-turbo.git )')
             os.system('(cd '+deps_dir+'/libjpeg-turbo; mkdir build; cd build; '+linuxCMake +
-                      ' -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=RELEASE -DENABLE_STATIC=FALSE -DCMAKE_INSTALL_DEFAULT_LIBDIR=lib ..; make -j 4; sudo make install )')
+                      ' -DCMAKE_INSTALL_PREFIX=@EPREFIX@/usr -DCMAKE_BUILD_TYPE=RELEASE -DENABLE_STATIC=FALSE -DCMAKE_INSTALL_DEFAULT_LIBDIR=@LIBDIR@ ..; make -j 4; sudo make install )')
             # RPP
             # Remove Previous Install - RPP
             os.system('sudo -v')
@@ -420,7 +420,7 @@ else:
             # turbo-JPEG
             # os.system('(cd '+deps_dir+'; wget https://downloads.sourceforge.net/libjpeg-turbo/libjpeg-turbo-2.0.3.tar.gz )')
             # os.system('(cd '+deps_dir+'; tar xf libjpeg-turbo-2.0.3.tar.gz )')
-            # os.system('(cd '+deps_dir+'/libjpeg-turbo-2.0.3; mkdir build; cd build; '+linuxCMake+' -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=RELEASE -DENABLE_STATIC=FALSE -DCMAKE_INSTALL_DOCDIR=/usr/share/doc/libjpeg-turbo-2.0.3 -DCMAKE_INSTALL_DEFAULT_LIBDIR=lib ..; make -j 4; sudo make install )')
+            # os.system('(cd '+deps_dir+'/libjpeg-turbo-2.0.3; mkdir build; cd build; '+linuxCMake+' -DCMAKE_INSTALL_PREFIX=@EPREFIX@/usr -DCMAKE_BUILD_TYPE=RELEASE -DENABLE_STATIC=FALSE -DCMAKE_INSTALL_DOCDIR=@EPREFIX@/usr/share/doc/libjpeg-turbo-2.0.3 -DCMAKE_INSTALL_DEFAULT_LIBDIR=@LIBDIR@ ..; make -j 4; sudo make install )')
             # RPP
             # os.system('(cd '+deps_dir+'; git clone -b '+rppVersion+' https://github.com/GPUOpen-ProfessionalCompute-Libraries/rpp.git; cd rpp; mkdir build; cd build; '+linuxCMake+' -DBACKEND=OCL ../; make -j4; sudo make install)')
 
Only in MIVisionX-rocm-5.4.3: MIVisionX-setup.py.orig
Only in MIVisionX-rocm-5.4.3: MIVisionX-setup.py.rej
diff -urp MIVisionX-rocm-5.4.3.orig/model_compiler/python/nnir_to_clib.py MIVisionX-rocm-5.4.3/model_compiler/python/nnir_to_clib.py
--- MIVisionX-rocm-5.4.3.orig/model_compiler/python/nnir_to_clib.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/model_compiler/python/nnir_to_clib.py	2023-09-04 09:39:13.355808028 -0700
@@ -120,10 +120,10 @@ project (mvdeploy)
 
 set (CMAKE_CXX_STANDARD 14)
 
-set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/lib)
+set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/@LIBDIR@)
 set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/bin)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 # avoid setting the default installation path to /usr/local
 if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
   set(CMAKE_INSTALL_PREFIX ${ROCM_PATH} CACHE PATH "mivisionx default installation path" FORCE)
@@ -151,15 +151,15 @@ if (OPENVX_BACKEND_OPENCL_FOUND)
 endif()
 
 find_package(OpenCV QUIET)
-include_directories (/opt/rocm/include/mivisionx)
+include_directories (@ESYSROOT_ROCM_PATH@/include/mivisionx)
 include_directories (${PROJECT_SOURCE_DIR}/lib)
-link_directories    (/opt/rocm/lib)
+link_directories    (@ESYSROOT_ROCM_PATH@/@LIBDIR@)
 list(APPEND SOURCES mvmodule.cpp)
 add_library(mv_deploy SHARED ${SOURCES})
 set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -msse4.2 -std=gnu++14")
 target_compile_definitions(mv_deploy PRIVATE ENABLE_MVDEPLOY=1)
 target_link_libraries(mv_deploy openvx vx_nn pthread ${CMAKE_DL_LIBS})
-install (TARGETS mv_deploy DESTINATION lib)
+install (TARGETS mv_deploy DESTINATION @LIBDIR@)
 
 option (USE_POSTPROC  "Use postprocessing module implementation" OFF) 
 add_executable(mvtestdeploy mvtestdeploy.cpp mvdeploy_api.cpp)
@@ -211,36 +211,27 @@ find_path(OPENCL_INCLUDE_DIRS
     PATHS
     /usr/include
     /usr/local/include
-    /opt/rocm/opencl/include
+    @ESYSROOT_ROCM_PATH@/opencl/include
     DOC "OpenCL header file path"
     )
 mark_as_advanced( OPENCL_INCLUDE_DIRS )
 
 if("${CMAKE_SIZEOF_VOID_P}" EQUAL "8")
-    find_library( OPENCL_LIBRARIES
-        NAMES OpenCL
-        HINTS
-        ${OPENCL_ROOT}/lib
-        $ENV{AMDAPPSDKROOT}/lib
-        DOC "OpenCL dynamic library path"
-        PATH_SUFFIXES x86_64 x64 x86_64/sdk
-        PATHS
-        /usr/lib
-        /opt/rocm/opencl/lib
-        )
-else( )
-    find_library( OPENCL_LIBRARIES
-        NAMES OpenCL
-        HINTS
-        ${OPENCL_ROOT}/lib
-        $ENV{AMDAPPSDKROOT}/lib
-        DOC "OpenCL dynamic library path"
-        PATH_SUFFIXES x86 Win32
-
-        PATHS
-        /usr/lib
-        )
-endif( )
+    set(_PATH_SUFFIXES "x86_64 x64 x86_64/sdk")
+else()
+    set(_PATH_SUFFIXES "x86 Win32")
+endif()
+find_library( OPENCL_LIBRARIES
+    NAMES OpenCL
+    HINTS
+    ${OPENCL_ROOT}/@LIBDIR@
+    $ENV{AMDAPPSDKROOT}/@LIBDIR@
+    DOC "OpenCL dynamic library path"
+    PATH_SUFFIXES ${_PATH_SUFFIXES}
+    PATHS
+    @ESYSROOT@/usr/@LIBDIR@
+    @ESYSROOT_ROCM_PATH@/opencl/@LIBDIR@
+    )
 mark_as_advanced( OPENCL_LIBRARIES )
 
 include( FindPackageHandleStandardArgs )
@@ -267,7 +258,7 @@ project (mv_extras)
 set (CMAKE_CXX_STANDARD 14)
 list(APPEND CMAKE_MODULE_PATH ../cmake)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "ROCm Installation Path")
 #find the OPENVX backend type
 set(OPENVX_BACKEND_OPENCL_FOUND 0)
 set(OPENVX_BACKEND_HIP_FOUND 0)
@@ -287,8 +278,8 @@ if (OPENVX_BACKEND_OPENCL_FOUND)
 endif()
 
 find_package(OpenCV QUIET)
-include_directories (/opt/rocm/include/miviisionx ../)
-link_directories    (/opt/rocm/lib)
+include_directories (@ESYSROOT_ROCM_PATH@/include/miviisionx ../)
+link_directories    (@ESYSROOT_ROCM_PATH@/@LIBDIR@)
 add_library(${PROJECT_NAME} SHARED mv_extras_postproc.cpp)
 set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -msse4.2 -std=gnu++14")
 
@@ -1381,7 +1372,7 @@ MIVID_API_ENTRY const char * MIVID_API_C
 MIVID_API_ENTRY mv_status MIVID_API_CALL mvInitializeDeployment(const char* install_folder)
 {
     std::string libname = std::string(install_folder);
-    libname += "/lib/" + INF_DEPLOY_LIB_NAME;
+    libname += "/@LIBDIR@/" + INF_DEPLOY_LIB_NAME;
     mvDeploy = new mvDeployAPI((const char *)libname.c_str());
     if (!mvDeploy || !mvDeploy->mvQueryInference_f) {
         return MV_FAILURE;          
@@ -1544,7 +1535,7 @@ using namespace cv;
 #if USE_OPENCV_4
 #define CV_LOAD_IMAGE_COLOR IMREAD_COLOR
 #endif
-#include <half/half.hpp>
+#include <half.hpp>
 #include <immintrin.h>
 using half_float::half;
 
Only in MIVisionX-rocm-5.4.3/model_compiler/python: nnir_to_clib.py.orig
diff -urp MIVisionX-rocm-5.4.3.orig/model_compiler/python/nnir_to_openvx.py MIVisionX-rocm-5.4.3/model_compiler/python/nnir_to_openvx.py
--- MIVisionX-rocm-5.4.3.orig/model_compiler/python/nnir_to_openvx.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/model_compiler/python/nnir_to_openvx.py	2023-09-04 09:39:13.359808028 -0700
@@ -115,7 +115,7 @@ project (annmodule)
 
 set(CMAKE_CXX_STANDARD 14)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "ROCm Installation Path")
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 
@@ -148,7 +148,7 @@ endif()
 
 include_directories(${ROCM_PATH}/include/mivisionx)
 
-link_directories(${ROCM_PATH}/lib)
+link_directories(${ROCM_PATH}/@LIBDIR@)
 
 list(APPEND SOURCES annmodule.cpp)
 add_library(${PROJECT_NAME} SHARED ${SOURCES})
@@ -234,36 +234,24 @@ else()
     mark_as_advanced( OPENCL_INCLUDE_DIRS )
 
     if("${CMAKE_SIZEOF_VOID_P}" EQUAL "8")
-        find_library( OPENCL_LIBRARIES
-            NAMES OpenCL
-            HINTS
-            ${OPENCL_ROOT}/lib
-            $ENV{AMDAPPSDKROOT}/lib
-            $ENV{CUDA_PATH}/lib
-            DOC "OpenCL dynamic library path"
-            PATH_SUFFIXES x86_64 x64 x86_64/sdk
-            PATHS
-            ${ROCM_PATH}/lib/
-            /usr/lib
-            /usr/local/cuda/lib
-            /opt/cuda/lib
-        )
-    else( )
-        find_library( OPENCL_LIBRARIES
-            NAMES OpenCL
-            HINTS
-            ${OPENCL_ROOT}/lib
-            $ENV{AMDAPPSDKROOT}/lib
-            $ENV{CUDA_PATH}/lib
-            DOC "OpenCL dynamic library path"
-            PATH_SUFFIXES x86 Win32
-            PATHS
-            ${ROCM_PATH}/lib/
-            /usr/lib
-            /usr/local/cuda/lib
-            /opt/cuda/lib
-        )
-    endif( )
+        set(_PATH_SUFFIXES "x86_64 x64 x86_64/sdk")
+    else()
+        set(_PATH_SUFFIXES "x86 Win32")
+    endif()
+    find_library( OPENCL_LIBRARIES
+        NAMES OpenCL
+        HINTS
+        ${OPENCL_ROOT}/@LIBDIR@
+        $ENV{AMDAPPSDKROOT}/@LIBDIR@
+        $ENV{CUDA_PATH}/@LIBDIR@
+        DOC "OpenCL dynamic library path"
+        PATH_SUFFIXES ${_PATH_SUFFIXES}
+        PATHS
+        ${ROCM_PATH}/@LIBDIR@/
+        @ESYSROOT@/usr/@LIBDIR@
+        @ESYSROOT@/usr/local/cuda/@LIBDIR@
+        @ESYSROOT@/opt/cuda/@LIBDIR@
+    )
     mark_as_advanced( OPENCL_LIBRARIES )
 
     if(OPENCL_LIBRARIES AND OPENCL_INCLUDE_DIRS)
@@ -274,11 +262,11 @@ else()
     set(OpenCL_LIBRARIES ${OPENCL_LIBRARIES} CACHE INTERNAL "")
     set(OpenCL_INCLUDE_DIRS ${OPENCL_INCLUDE_DIRS} CACHE INTERNAL "")
 
-    if(EXISTS "${ROCM_PATH}/lib/libOpenCL.so")
-        if(NOT "${OPENCL_LIBRARIES}" STREQUAL "${ROCM_PATH}/lib/libOpenCL.so")
+    if(EXISTS "${ROCM_PATH}/@LIBDIR@/libOpenCL.so")
+        if(NOT "${OPENCL_LIBRARIES}" STREQUAL "${ROCM_PATH}/@LIBDIR@/libOpenCL.so")
             message("-- OpenCL Found - ${OPENCL_LIBRARIES}")
             message("-- ROCm OpenCL Found - Force OpenCL_LIBRARIES & OpenCL_INCLUDE_DIRS to use ROCm OpenCL")
-            set(OpenCL_LIBRARIES ${ROCM_PATH}/lib/libOpenCL.so CACHE INTERNAL "")
+            set(OpenCL_LIBRARIES ${ROCM_PATH}/@LIBDIR@/libOpenCL.so CACHE INTERNAL "")
             set(OpenCL_INCLUDE_DIRS ${ROCM_PATH}/include CACHE INTERNAL "")
         endif()
     else()
@@ -1239,7 +1227,7 @@ def generatePythonH(graph, fileName, vir
 #include <VX/vx.h>
 #include <map>
 #include <string>
-#include <half/half.hpp>
+#include <half.hpp>
 using half_float::half;
 
 ////
@@ -1981,7 +1969,7 @@ def generateTestCPP(graph,argmaxOutput,f
 #include <chrono>
 #include <unistd.h>
 #include <math.h>
-#include <half/half.hpp>
+#include <half.hpp>
 #include <immintrin.h>
 #include <map>
 using half_float::half;
Only in MIVisionX-rocm-5.4.3/model_compiler/python: nnir_to_openvx.py.orig
diff -urp MIVisionX-rocm-5.4.3.orig/model_compiler/python/nnir_to_zendnn.py MIVisionX-rocm-5.4.3/model_compiler/python/nnir_to_zendnn.py
--- MIVisionX-rocm-5.4.3.orig/model_compiler/python/nnir_to_zendnn.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/model_compiler/python/nnir_to_zendnn.py	2023-09-04 09:39:13.359808028 -0700
@@ -148,14 +148,14 @@ include_directories(${ZENDNN_GIT_ROOT}/i
 # ZENDNN_BLIS_PATH includes
 include_directories(${ZENDNN_BLIS_PATH}/include)
 # GNU Includes
-include_directories(/usr/lib/x86_64-linux-gnu/include)
+include_directories(@ESYSROOT@/usr/include)
 # test utilities
 include_directories(${ZENDNN_GIT_ROOT}/tests/api_tests)
 
 # Link Library Directories
-link_directories(${ZENDNN_GIT_ROOT}/_out/lib)
-link_directories(${ZENDNN_BLIS_PATH}/lib)
-link_directories(/usr/lib/x86_64-linux-gnu/lib)
+link_directories(${ZENDNN_GIT_ROOT}/_out/@LIBDIR@)
+link_directories(${ZENDNN_BLIS_PATH}/@LIBDIR@)
+link_directories(@ESYSROOT@/usr/@LIBDIR@)
 
 file(GLOB My_Source_Files ./source/*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
diff -urp MIVisionX-rocm-5.4.3.orig/model_compiler/README.md MIVisionX-rocm-5.4.3/model_compiler/README.md
--- MIVisionX-rocm-5.4.3.orig/model_compiler/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/model_compiler/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -56,7 +56,7 @@ MIVisionX allows hundreds of different [
   pip3 install pytz numpy future
   ```
 
-**Note:** MIVisionX installs model compiler scripts at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+**Note:** MIVisionX installs model compiler scripts at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
 
 #### Caffe
 
diff -urp MIVisionX-rocm-5.4.3.orig/README.md MIVisionX-rocm-5.4.3/README.md
--- MIVisionX-rocm-5.4.3.orig/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/README.md	2023-09-04 09:45:46.123802783 -0700
@@ -188,7 +188,7 @@ For the convenience of the developer, we
                             --neural_net[MIVisionX Neural Net Dependency Install - optional (default:yes) [options:yes/no]]
                             --reinstall [Remove previous setup and reinstall (default:no)[options:yes/no]]
                             --backend   [MIVisionX Dependency Backend - optional (default:HIP) [options:OCL/HIP]]
-                            --rocm_path [ROCm Installation Path - optional (default:/opt/rocm) - ROCm Installation Required]
+                            --rocm_path [ROCm Installation Path - optional (default:@ESYSROOT_ROCM_PATH@) - ROCm Installation Required]
   ```
     **Note:**
     * **ROCm upgrade** with `sudo apt upgrade` requires the setup script **rerun**.
@@ -233,12 +233,12 @@ macOS [build instructions](https://githu
   * `vx_winml` is not supported on `Linux`
   * source code will not available with `apt-get` / `yum` install
   * the installer will copy
-    + Executables into `/opt/rocm/bin`
-    + Libraries into `/opt/rocm/lib`
-    + OpenVX and module header files into `/opt/rocm/include/mivisionx`
-    + Model compiler, & toolkit folders into `/opt/rocm/libexec/mivisionx`
-    + Apps, & samples folder into `/opt/rocm/share/mivisionx`
-    + Docs folder into `/opt/rocm/share/doc/mivisionx`
+    + Executables into `@ESYSROOT_ROCM_PATH@/bin`
+    + Libraries into `@ESYSROOT_ROCM_PATH@/@LIBDIR@`
+    + OpenVX and module header files into `@ESYSROOT_ROCM_PATH@/include/mivisionx`
+    + Model compiler, & toolkit folders into `@ESYSROOT_ROCM_PATH@/libexec/mivisionx`
+    + Apps, & samples folder into `@ESYSROOT_ROCM_PATH@/share/mivisionx`
+    + Docs folder into `@ESYSROOT_ROCM_PATH@/share/doc/mivisionx`
   * Package (.deb & .rpm) install requires `OpenCV v3+` to execute `AMD OpenCV extensions`
 
 #### Using `MIVisionX-setup.py`
@@ -286,7 +286,7 @@ macOS [build instructions](https://githu
     ```
 
   **Note:**
-  + MIVisionX cannot be installed for both GPU backends in the same default folder (i.e., /opt/rocm/)
+  + MIVisionX cannot be installed for both GPU backends in the same default folder (i.e., @ESYSROOT_ROCM_PATH@/)
   if an app interested in installing MIVisionX with both GPU backends, then add **-DCMAKE_INSTALL_PREFIX** in the cmake
   commands to install MIVisionX with OPENCL and HIP backends into two separate custom folders.
   + vx_winml is not supported on Linux
@@ -296,12 +296,12 @@ macOS [build instructions](https://githu
 ### Linux / macOS
 
 * The installer will copy
-  + Executables into `/opt/rocm/bin`
-  + Libraries into `/opt/rocm/lib`
-  + OpenVX and OpenVX module header files into `/opt/rocm/include/mivisionx`
-  + Apps, & Samples folder into `/opt/rocm/share/mivisionx`
-  + Documents folder into `/opt/rocm/share/doc/mivisionx`
-  + Model Compiler, and Toolkit folder into `/opt/rocm/libexec/mivisionx`
+  + Executables into `@ESYSROOT_ROCM_PATH@/bin`
+  + Libraries into `@ESYSROOT_ROCM_PATH@/@LIBDIR@`
+  + OpenVX and OpenVX module header files into `@ESYSROOT_ROCM_PATH@/include/mivisionx`
+  + Apps, & Samples folder into `@ESYSROOT_ROCM_PATH@/share/mivisionx`
+  + Documents folder into `@ESYSROOT_ROCM_PATH@/share/doc/mivisionx`
+  + Model Compiler, and Toolkit folder into `@ESYSROOT_ROCM_PATH@/libexec/mivisionx`
 * Run the below sample to verify the installation
 
   **Canny Edge Detection**
@@ -309,13 +309,13 @@ macOS [build instructions](https://githu
   <p align="center"><img width="60%" src="samples/images/canny_image.PNG" /></p>
 
   ```
-  export PATH=$PATH:/opt/rocm/bin
-  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
-  runvx /opt/rocm/share/mivisionx/samples/gdf/canny.gdf
+  export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
+  runvx @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/gdf/canny.gdf
   ```
   **Note:** More samples are available [here](samples#samples)
 
-  **Note:** For `macOS` use `export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:/opt/rocm/lib`
+  **Note:** For `macOS` use `export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@`
 
 ### Windows
 
@@ -406,9 +406,9 @@ sudo docker run -it --device=/dev/kfd --
 
     + Test display with MIVisionX sample
     ```
-    export PATH=$PATH:/opt/rocm/bin
-    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
-    runvx /opt/rocm/share/mivisionx/samples/gdf/canny.gdf
+    export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
+    runvx @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/gdf/canny.gdf
     ```
 
 ## Technical Support
@@ -464,4 +464,4 @@ Review all notable [changes](CHANGELOG.m
 | `Level_4`   | MIOpenGEMM <br> MIOpen <br> ProtoBuf <br> +Level 3 | amd_openvx <br>  amd_openvx_extensions <br> apps <br> utilities           | ![#1589F0](docs/images/blue_square.png) `libopenvx.so`  - OpenVX&trade; Lib <br> ![#1589F0](docs/images/blue_square.png) `libvxu.so` - OpenVX&trade; immediate node Lib <br> ![#1589F0](docs/images/blue_square.png) `libvx_loomsl.so` - Loom 360 Stitch Lib <br> ![#1589F0](docs/images/blue_square.png) `loom_shell` - 360 Stitch App <br> ![#1589F0](docs/images/blue_square.png) `libvx_amd_media.so` - OpenVX&trade; Media Extension <br> ![#1589F0](docs/images/blue_square.png) `libvx_opencv.so` - OpenVX&trade; OpenCV InterOp Extension <br> ![#1589F0](docs/images/blue_square.png) `mv_compile` - Neural Net Model Compile <br> ![#1589F0](docs/images/blue_square.png) `runcl` - OpenCL&trade; program debug App <br> ![#1589F0](docs/images/blue_square.png) `runvx` - OpenVX&trade; Graph Executor - Display ON <br> ![#c5f015](docs/images/green_square.png) `libvx_nn.so` - OpenVX&trade; Neural Net Extension <br> ![#c5f015](docs/images/green_square.png) `inference_server_app` - Cloud Inference App                                                                                                                                                                                                                                                                       | [![Docker Image Version (tag latest semver)](https://img.shields.io/docker/v/kiritigowda/ubuntu-18.04/mivisionx-level-4?style=flat-square)](https://hub.docker.com/repository/docker/kiritigowda/ubuntu-18.04) |
 | `Level_5`   | AMD_RPP <br> rocAL deps <br> +Level 4              | amd_openvx <br> amd_openvx_extensions <br> apps <br> rocAL <br> utilities | ![#1589F0](docs/images/blue_square.png) `libopenvx.so`  - OpenVX&trade; Lib <br> ![#1589F0](docs/images/blue_square.png) `libvxu.so` - OpenVX&trade; immediate node Lib <br> ![#1589F0](docs/images/blue_square.png) `libvx_loomsl.so` - Loom 360 Stitch Lib <br> ![#1589F0](docs/images/blue_square.png) `loom_shell` - 360 Stitch App <br> ![#1589F0](docs/images/blue_square.png) `libvx_amd_media.so` - OpenVX&trade; Media Extension <br> ![#1589F0](docs/images/blue_square.png) `libvx_opencv.so` - OpenVX&trade; OpenCV InterOp Extension <br> ![#1589F0](docs/images/blue_square.png) `mv_compile` - Neural Net Model Compile <br> ![#1589F0](docs/images/blue_square.png) `runcl` - OpenCL&trade; program debug App <br> ![#1589F0](docs/images/blue_square.png) `runvx` - OpenVX&trade; Graph Executor - Display ON <br>  ![#1589F0](docs/images/blue_square.png) `libvx_nn.so` - OpenVX&trade; Neural Net Extension <br>  ![#1589F0](docs/images/blue_square.png) `inference_server_app` - Cloud Inference App <br> ![#c5f015](docs/images/green_square.png) `libvx_rpp.so` - OpenVX&trade; RPP Extension <br> ![#c5f015](docs/images/green_square.png) `librocal.so` - Radeon Augmentation Library <br> ![#c5f015](docs/images/green_square.png) `rocal_pybind.so` - rocAL Pybind Lib | [![Docker Image Version (tag latest semver)](https://img.shields.io/docker/v/kiritigowda/ubuntu-18.04/mivisionx-level-5?style=flat-square)](https://hub.docker.com/repository/docker/kiritigowda/ubuntu-18.04) |
 
-**NOTE:** OpenVX and the OpenVX logo are trademarks of the Khronos Group Inc.
\ No newline at end of file
+**NOTE:** OpenVX and the OpenVX logo are trademarks of the Khronos Group Inc.
Only in MIVisionX-rocm-5.4.3: README.md.orig
Only in MIVisionX-rocm-5.4.3: README.md.rej
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/README.md MIVisionX-rocm-5.4.3/rocAL/README.md
--- MIVisionX-rocm-5.4.3.orig/rocAL/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -78,7 +78,7 @@ cmake -DCMAKE_INSTALL_PREFIX=/usr \
       -DCMAKE_BUILD_TYPE=RELEASE  \
       -DENABLE_STATIC=FALSE       \
       -DCMAKE_INSTALL_DOCDIR=/usr/share/doc/libjpeg-turbo-2.0.3 \
-      -DCMAKE_INSTALL_DEFAULT_LIBDIR=lib  \
+      -DCMAKE_INSTALL_DEFAULT_LIBDIR=@LIBDIR@  \
       ..
 make -j$nproc
 sudo make install
Only in MIVisionX-rocm-5.4.3/rocAL: README.md.orig
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/CMakeLists.txt MIVisionX-rocm-5.4.3/rocAL/rocAL/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL/CMakeLists.txt	2023-09-04 09:46:13.851802413 -0700
@@ -161,7 +161,7 @@ if(${BUILD_ROCAL})
                 )
 
     if("${BACKEND}" STREQUAL "HIP" AND HIP_FOUND)
-        link_directories(${HIP_PATH}/lib)
+        link_directories(${HIP_PATH}/@LIBDIR@)
         include_directories(${ROCM_PATH}/include rocAL_hip)
         add_subdirectory(rocAL_hip)
     endif()
@@ -169,7 +169,7 @@ if(${BUILD_ROCAL})
     protobuf_generate_cpp(TF_PROTO_SRCS TF_PROTO_HEADERS proto/example.proto proto/feature.proto)
     protobuf_generate_cpp(CAFFE2_PROTO_SRCS CAFFE2_PROTO_HEADERS proto/caffe2_protos.proto)
     protobuf_generate_cpp(CAFFE_PROTO_SRCS CAFFE_PROTO_HEADERS proto/caffe_protos.proto)
-    link_directories(${AMDRPP_LIBRARIES_DIR} ${TurboJpeg_LIBRARIES_DIR} ${PROTOBUF_LIBRARY_DIRS} /usr/local/lib/)
+    link_directories(${AMDRPP_LIBRARIES_DIR} ${TurboJpeg_LIBRARIES_DIR} ${PROTOBUF_LIBRARY_DIRS} @ESYSROOT@/usr/local/@LIBDIR@/)
 
     file(GLOB_RECURSE SOURCES "./source/*.cpp")
     add_library(${PROJECT_NAME} SHARED ${SOURCES} ${TF_PROTO_SRCS} ${TF_PROTO_HEADERS} ${CAFFE_PROTO_HEADERS} ${CAFFE_PROTO_SRCS} ${CAFFE2_PROTO_SRCS} ${CAFFE2_PROTO_HEADERS})
@@ -220,7 +220,7 @@ if(${BUILD_ROCAL})
         target_link_libraries(${PROJECT_NAME} -fPIC ${PROTOBUF_LIBRARIES} ${FFMPEG_LIBRARIES} lmdb turbojpeg openvx vx_rpp)
     endif()
 
-    # install MIVisionX libs -- {ROCM_PATH)/lib
+    # install MIVisionX libs -- {ROCM_PATH)/@LIBDIR@
     install(TARGETS rocal DESTINATION ${CMAKE_INSTALL_LIBDIR})
     # install MIVisionX include files -- {ROCM_PATH}/include/mivisionx/
     install(FILES
Only in MIVisionX-rocm-5.4.3/rocAL/rocAL: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/rocAL/rocAL: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/include/api/rocal_api_types.h MIVisionX-rocm-5.4.3/rocAL/rocAL/include/api/rocal_api_types.h
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/include/api/rocal_api_types.h	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL/include/api/rocal_api_types.h	2023-09-04 09:39:13.359808028 -0700
@@ -33,7 +33,7 @@ THE SOFTWARE.
 #endif
 #endif
 
-#include <half/half.hpp>
+#include <half.hpp>
 using half_float::half;
 
 typedef void * RocalFloatParam;
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/rocAL_hip/CMakeLists.txt MIVisionX-rocm-5.4.3/rocAL/rocAL/rocAL_hip/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/rocAL_hip/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL/rocAL_hip/CMakeLists.txt	2023-09-04 09:39:13.359808028 -0700
@@ -29,11 +29,11 @@ list(APPEND rocAL_HIP_SOURCES
 set_source_files_properties(${rocAL_HIP_SOURCES} PROPERTIES HIP_SOURCE_PROPERTY_FORMAT 1)
 
 set(HIP_CXX_FLAGS -std=gnu++14)
-set(COMPILER_FOR_HIP ${ROCM_PATH}/llvm/bin/clang++)
+set(COMPILER_FOR_HIP @ESYSROOT_LLVM_PATH@/bin/clang++)
 set(CMAKE_CXX_COMPILER ${COMPILER_FOR_HIP})
 set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${HIP_CXX_FLAGS}")
 
 add_library(${PROJECT_NAME} OBJECT ${rocAL_HIP_SOURCES})
 set_target_properties(${PROJECT_NAME} PROPERTIES POSITION_INDEPENDENT_CODE ON)
 target_compile_definitions(${PROJECT_NAME} PRIVATE __HIP_PLATFORM_AMD__)
-target_link_libraries(${PROJECT_NAME} hip::device)
\ No newline at end of file
+target_link_libraries(${PROJECT_NAME} hip::device)
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/rocAL_hip/rocal_hip_kernels.cpp MIVisionX-rocm-5.4.3/rocAL/rocAL/rocAL_hip/rocal_hip_kernels.cpp
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/rocAL_hip/rocal_hip_kernels.cpp	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL/rocAL_hip/rocal_hip_kernels.cpp	2023-09-04 09:39:13.359808028 -0700
@@ -20,7 +20,7 @@ OUT OF OR IN CONNECTION WITH THE SOFTWAR
 THE SOFTWARE.
 */
 
-#include <half/half.hpp>
+#include <half.hpp>
 #include "hip/hip_runtime_api.h"
 #include "hip/hip_runtime.h"
 #include "hip/hip_fp16.h"
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/source/pipeline/master_graph.cpp MIVisionX-rocm-5.4.3/rocAL/rocAL/source/pipeline/master_graph.cpp
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL/source/pipeline/master_graph.cpp	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL/source/pipeline/master_graph.cpp	2023-09-04 09:39:13.359808028 -0700
@@ -26,7 +26,7 @@ THE SOFTWARE.
 #include <VX/vx_types.h>
 #include <cstring>
 #include <sched.h>
-#include <half/half.hpp>
+#include <half.hpp>
 #include "master_graph.h"
 #include "parameter_factory.h"
 #include "ocl_setup.h"
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL_pybind/CMakeLists.txt MIVisionX-rocm-5.4.3/rocAL/rocAL_pybind/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL_pybind/CMakeLists.txt	2023-09-04 09:38:56.467808254 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL_pybind/CMakeLists.txt	2023-09-04 10:05:58.107786599 -0700
@@ -22,7 +22,7 @@ cmake_minimum_required(VERSION 3.0)
 project(rocal_pybind)
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../../amd_openvx/cmake)
-set(ROCM_PATH /opt/rocm CACHE PATH "Deafult ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Deafult ROCm Installation Path")
 
 set(MIN_CMAKE_VER_REQUIRED 3.10)
 set(MIN_CXX_VER_REQUIRED 7.4)
@@ -103,7 +103,7 @@ endif()
 
 if(${BUILD_ROCAL_PYBIND})
 
-    link_directories(${ROCM_PATH}/lib)
+    link_directories(${ROCM_PATH}/@LIBDIR@)
 
     include_directories(../rocAL/include/api/
                         third_party_lib/
@@ -116,7 +116,7 @@ if(${BUILD_ROCAL_PYBIND})
     pybind11_add_module(rocal_pybind rocal_pybind.cpp)
     target_link_libraries(rocal_pybind PRIVATE rocal  vx_rpp amd_rpp)
     message("-- ${White}rocal_pybind -- CMAKE_CXX_FLAGS:${CMAKE_CXX_FLAGS}${ColourReset}")
-    install(TARGETS rocal_pybind DESTINATION lib)
+    install(TARGETS rocal_pybind DESTINATION @LIBDIR@)
     message("-- ${Green}Radeon Augmentation Library Python Binding - rocal_pybind module added ${ColourReset}")
 else()
     message("-- ${Red}WARNING: rocAL Pybind module excluded ${ColourReset}")
Only in MIVisionX-rocm-5.4.3/rocAL/rocAL_pybind: CMakeLists.txt.orig
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL_pybind/README.md MIVisionX-rocm-5.4.3/rocAL/rocAL_pybind/README.md
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL_pybind/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL_pybind/README.md	2023-09-04 09:57:04.651793722 -0700
@@ -36,7 +36,7 @@ pip3 install numpy opencv-python torch
 
 * Export `RPP` & `rocAL` library into PATH
 ```
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib/
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@/
 ```
 #### Run Test Script
 
diff -urp MIVisionX-rocm-5.4.3.orig/rocAL/rocAL_pybind/third_party_lib/pybind11/tools/mkdoc.py MIVisionX-rocm-5.4.3/rocAL/rocAL_pybind/third_party_lib/pybind11/tools/mkdoc.py
--- MIVisionX-rocm-5.4.3.orig/rocAL/rocAL_pybind/third_party_lib/pybind11/tools/mkdoc.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/rocAL/rocAL_pybind/third_party_lib/pybind11/tools/mkdoc.py	2023-09-04 09:39:13.359808028 -0700
@@ -262,7 +262,7 @@ def read_args(args):
         clang_include_dir = max((
             path
             for libdir in ['lib64', 'lib', 'lib32']
-            for path in glob('/usr/%s/clang/*/include' % libdir)
+            for path in glob('@ESYSROOT@/usr/%s/clang/@CLANG_SLOT@/include' % libdir)
             if os.path.isdir(path)
         ), default=None, key=clang_folder_version)
         if clang_include_dir:
diff -urp MIVisionX-rocm-5.4.3.orig/samples/c_samples/canny/CMakeLists.txt MIVisionX-rocm-5.4.3/samples/c_samples/canny/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/samples/c_samples/canny/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/c_samples/canny/CMakeLists.txt	2023-09-04 09:39:13.359808028 -0700
@@ -27,12 +27,12 @@
 cmake_minimum_required (VERSION 3.0)
 project (cannyDetect)
 set (CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Deafult ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Deafult ROCm Installation Path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 find_package(OpenCL REQUIRED)
 find_package(OpenCV REQUIRED)
 include_directories (${ROCM_PATH}/include/mivisionx)
-link_directories    (${ROCM_PATH}/lib)
+link_directories    (${ROCM_PATH}/@LIBDIR@)
 add_executable(cannyDetect canny.cpp)
 target_link_libraries(${PROJECT_NAME} openvx ${OpenCV_LIBRARIES})
 
diff -urp MIVisionX-rocm-5.4.3.orig/samples/c_samples/opencv_orb/CMakeLists.txt MIVisionX-rocm-5.4.3/samples/c_samples/opencv_orb/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/samples/c_samples/opencv_orb/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/c_samples/opencv_orb/CMakeLists.txt	2023-09-04 09:39:13.359808028 -0700
@@ -27,12 +27,12 @@
 cmake_minimum_required (VERSION 3.0)
 project (orbDetect)
 set (CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Deafult ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Deafult ROCm Installation Path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 find_package(OpenCL REQUIRED)
 find_package(OpenCV REQUIRED)
 include_directories (${ROCM_PATH}/include/mivisionx)
-link_directories    (${ROCM_PATH}/lib)
+link_directories    (${ROCM_PATH}/@LIBDIR@)
 add_executable(orbDetect orb.cpp)
 target_link_libraries(${PROJECT_NAME} openvx vx_opencv ${OpenCV_LIBRARIES})
 
diff -urp MIVisionX-rocm-5.4.3.orig/samples/gdf/README.md MIVisionX-rocm-5.4.3/samples/gdf/README.md
--- MIVisionX-rocm-5.4.3.orig/samples/gdf/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/gdf/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -7,8 +7,8 @@ MIVisionX samples using [RunVX](https://
 * To run the samples we need to put MIVisionX executables and libraries into the system path
 
 ``` 
-export PATH=$PATH:/opt/rocm/bin
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ```
 
 * To get help on RunVX, use `-h` option
diff -urp MIVisionX-rocm-5.4.3.orig/samples/inference/mv_objdetect/CMakeLists.txt MIVisionX-rocm-5.4.3/samples/inference/mv_objdetect/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/samples/inference/mv_objdetect/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/inference/mv_objdetect/CMakeLists.txt	2023-09-04 09:46:50.155801928 -0700
@@ -31,7 +31,7 @@ set (CMAKE_CXX_STANDARD 14)
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 find_package(OpenCV QUIET)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "ROCm Installation Path")
 #find the OPENVX backend type
 set(OPENVX_BACKEND_OPENCL_FOUND 0)
 set(OPENVX_BACKEND_HIP_FOUND 0)
@@ -51,7 +51,7 @@ if (OPENVX_BACKEND_OPENCL_FOUND)
 endif()
 
 include_directories (${ROCM_PATH}/include/mivisionx ${PROJECT_SOURCE_DIR} )
-link_directories    (${ROCM_PATH}/lib ${PROJECT_SOURCE_DIR}/lib)
+link_directories    (${ROCM_PATH}/@LIBDIR@ ${PROJECT_SOURCE_DIR}/@LIBDIR@)
 option (USE_POSTPROC  "Use postprocessing module implementation" ON)
 set(SOURCES mvobjdetect.cpp mvdeploy_api.cpp visualize.cpp)
 add_executable(mvobjdetect ${SOURCES})
Only in MIVisionX-rocm-5.4.3/samples/inference/mv_objdetect: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/samples/inference/mv_objdetect: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/samples/inference/mv_objdetect/README.md MIVisionX-rocm-5.4.3/samples/inference/mv_objdetect/README.md
--- MIVisionX-rocm-5.4.3.orig/samples/inference/mv_objdetect/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/inference/mv_objdetect/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -16,13 +16,13 @@ The sample has two .cpp files, `mvobjdet
   * **APU**: [AMD Radeon&trade; `Mobile`/`Embedded`](https://docs.amd.com/bundle/Hardware_and_Software_Reference_Guide/page/Hardware_and_Software_Support.html) [optional]
 * [ROCm](https://docs.amd.com)
 * Build & Install [MIVisionX](https://github.com/GPUOpen-ProfessionalCompute-Libraries/MIVisionX#linux-1)
-  * MIVisionX installs model compiler at `/opt/rocm/libexec/mivisionx`
-  * mv_compile installs at `/opt/rocm/bin` and mvdeploy_api.h installs at `/opt/rocm/include/mivisionx`
+  * MIVisionX installs model compiler at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx`
+  * mv_compile installs at `@ESYSROOT_ROCM_PATH@/bin` and mvdeploy_api.h installs at `@ESYSROOT_ROCM_PATH@/include/mivisionx`
 * Install MIVisionX [Model Compiler Prerequisites](../../../model_compiler#pre-requisites)
 * Add MIVisionX libraries & executables to PATH
 ```
-export PATH=$PATH:/opt/rocm/bin
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ```
 
 ## Sample - Detection Using Pre-Trained CAFFE Model
@@ -51,7 +51,7 @@ mv_compile  --model 	        <model_name
 mv_compile --model yoloV2Tiny20.caffemodel --install_folder mvdeploy --input_dims 1,3,416,416
 ```
 **NOTE:**
-* There will be a file libmv_deploy.so (under ./lib), weights.bin and mvtestdeploy sample app (under ./bin).
+* There will be a file libmv_deploy.so (under ./@LIBDIR@), weights.bin and mvtestdeploy sample app (under ./bin).
 * There will be mv_extras folder for extra post-processing helper functions.
 * Open mvdeploy_api.h to go through API functions supported for inference deployment. 
 
@@ -69,7 +69,7 @@ mvtestdeploy is a pre-generated applicat
 * Sample:
 ```	
 cd mvdeploy
-./bin/mvtestdeploy /opt/rocm/share/mivisionx/samples/mv_objdetect/data/images/img_04.JPG output.bin --install_folder . --t 100
+./bin/mvtestdeploy @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/mv_objdetect/data/images/img_04.JPG output.bin --install_folder . --t 100
 ```
 **NOTE:** This runs inference for an input file and generate output for N number of iterations.
 
@@ -83,10 +83,10 @@ cd mvdeploy
 * Copy all files in cloned sample folder (mvobjdetect.cpp, visualize.cpp, visualize.h and CMakeLists.txt) into mvdeploy folder. This  brings all the files into a single folder to build and run the sample.
 
 ```
-cp /opt/rocm/share/mivisionx/samples/mv_objdetect/mvobjdetect.cpp .
-cp /opt/rocm/share/mivisionx/samples/mv_objdetect/visualize.cpp .
-cp /opt/rocm/share/mivisionx/samples/mv_objdetect/visualize.h .
-cp /opt/rocm/share/mivisionx/samples/mv_objdetect/CMakeLists.txt .
+cp @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/mv_objdetect/mvobjdetect.cpp .
+cp @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/mv_objdetect/visualize.cpp .
+cp @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/mv_objdetect/visualize.h .
+cp @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/mv_objdetect/CMakeLists.txt .
 ```
 
 ### Step 5. cmake and make mvobjdetect
@@ -119,7 +119,7 @@ Usage: mvobjdetect <options>
 * Sample
 ```
 cd ..
-./mv_build/mvobjdetect /opt/rocm/share/mivisionx/samples/mv_objdetect/data/images/img_04.JPG - --install_folder . --bb 20 0.2 0.4 --v
+./mv_build/mvobjdetect @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/mv_objdetect/data/images/img_04.JPG - --install_folder . --bb 20 0.2 0.4 --v
 ./mv_build/mvobjdetect <PATH TO VIDEO FILE> - --install_folder . --bb 20 0.2 0.4 --v
 ```
 **Note:** Make sure the input image and video file exist and specified with full path
diff -urp MIVisionX-rocm-5.4.3.orig/samples/loom_360_stitch/README.md MIVisionX-rocm-5.4.3/samples/loom_360_stitch/README.md
--- MIVisionX-rocm-5.4.3.orig/samples/loom_360_stitch/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/loom_360_stitch/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -9,8 +9,8 @@ MIVisionX samples using [LoomShell](http
 * To run the samples we need to put MIVisionX executables and libraries into the system path
 
 ``` 
-export PATH=$PATH:/opt/rocm/bin
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ```
 
 * To get help on loom_shell, use `-help` option
diff -urp MIVisionX-rocm-5.4.3.orig/samples/model_compiler_samples/cmake/FindOpenCL.cmake MIVisionX-rocm-5.4.3/samples/model_compiler_samples/cmake/FindOpenCL.cmake
--- MIVisionX-rocm-5.4.3.orig/samples/model_compiler_samples/cmake/FindOpenCL.cmake	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/model_compiler_samples/cmake/FindOpenCL.cmake	2023-09-04 09:39:13.359808028 -0700
@@ -34,36 +34,27 @@ find_path(OPENCL_INCLUDE_DIRS
     PATHS
     /usr/include
     /usr/local/include
-    /opt/rocm/opencl/include
+    @ESYSROOT_ROCM_PATH@/opencl/include
     DOC "OpenCL header file path"
     )
 mark_as_advanced( OPENCL_INCLUDE_DIRS )
 
 if("${CMAKE_SIZEOF_VOID_P}" EQUAL "8")
-    find_library( OPENCL_LIBRARIES
-        NAMES OpenCL
-        HINTS
-        ${OPENCL_ROOT}/lib
-        $ENV{AMDAPPSDKROOT}/lib
-        DOC "OpenCL dynamic library path"
-        PATH_SUFFIXES x86_64 x64 x86_64/sdk
-        PATHS
-        /usr/lib
-        /opt/rocm/opencl/lib
-        )
-else( )
-    find_library( OPENCL_LIBRARIES
-        NAMES OpenCL
-        HINTS
-        ${OPENCL_ROOT}/lib
-        $ENV{AMDAPPSDKROOT}/lib
-        DOC "OpenCL dynamic library path"
-        PATH_SUFFIXES x86 Win32
-
-        PATHS
-        /usr/lib
-        )
-endif( )
+    set(_PATH_SUFFIXES "x86_64 x64 x86_64/sdk")
+else()
+    set(_PATH_SUFFIXES "x86 Win32")
+endif()
+find_library( OPENCL_LIBRARIES
+    NAMES OpenCL
+    HINTS
+    ${OPENCL_ROOT}/@LIBDIR@
+    $ENV{AMDAPPSDKROOT}/@LIBDIR@
+    DOC "OpenCL dynamic library path"
+    PATH_SUFFIXES ${_PATH_SUFFIXES}
+    PATHS
+    @ESYSROOT@/usr/@LIBDIR@
+    @ESYSROOT_ROCM_PATH@/opencl/@LIBDIR@
+    )
 mark_as_advanced( OPENCL_LIBRARIES )
 
 include( FindPackageHandleStandardArgs )
diff -urp MIVisionX-rocm-5.4.3.orig/samples/model_compiler_samples/CMakeLists.txt MIVisionX-rocm-5.4.3/samples/model_compiler_samples/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/samples/model_compiler_samples/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/model_compiler_samples/CMakeLists.txt	2023-09-04 09:39:13.359808028 -0700
@@ -28,7 +28,7 @@ cmake_minimum_required (VERSION 3.0)
 project(classification)
 
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "ROCm Installation Path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "ROCm Installation Path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 
 find_package(OpenCV REQUIRED)
@@ -53,7 +53,7 @@ find_package(OpenCV REQUIRED)
 
 include_directories(${ROCM_PATH}/include/mivisionx)
 include_directories(include)
-link_directories(${ROCM_PATH}/lib)
+link_directories(${ROCM_PATH}/@LIBDIR@)
 
 include_directories(module_files)
 add_library(neuralNetModels SHARED module_files/annmodule.cpp)
diff -urp MIVisionX-rocm-5.4.3.orig/samples/model_compiler_samples/README.md MIVisionX-rocm-5.4.3/samples/model_compiler_samples/README.md
--- MIVisionX-rocm-5.4.3.orig/samples/model_compiler_samples/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/model_compiler_samples/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -49,9 +49,9 @@ MIVisionX provides developers with [dock
 ````
 * Test display with MIVisionX sample
 ````
-% export PATH=$PATH:/opt/rocm/bin
-% export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
-% runvx /opt/rocm/share/mivisionx/samples/gdf/canny.gdf
+% export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+% export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
+% runvx @ESYSROOT_ROCM_PATH@/share/mivisionx/samples/gdf/canny.gdf
 ````
 ## Usage
 
@@ -65,7 +65,7 @@ Use MIVisionX [Neural Net Model Compiler
 
 2. Use [MIVisionX Model Compiler](https://github.com/GPUOpen-ProfessionalCompute-Libraries/MIVisionX/tree/master/model_compiler#neural-net-model-compiler--optimizer) to generate OpenVX C Code from the pre-trained models.
 
-	**Note:** MIVisionX installs all the model compiler scripts in `/opt/rocm/libexec/mivisionx/model_compiler/python/` folder
+	**Note:** MIVisionX installs all the model compiler scripts in `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/` folder
 
 * Convert the pre-trained models into AMD NNIR model:
 
@@ -75,19 +75,19 @@ Use MIVisionX [Neural Net Model Compiler
 	* Caffe Models
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py <net.caffeModel> <nnirOutputFolder> --input-dims <n,c,h,w> [--verbose <0|1>]
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py <net.caffeModel> <nnirOutputFolder> --input-dims <n,c,h,w> [--verbose <0|1>]
 	````
 	
 	* ONNX Models
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/onnx_to_nnir.py <onnxModel> <nnirOutputFolder> [--input_dims n,c,h,w (optional)]
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/onnx_to_nnir.py <onnxModel> <nnirOutputFolder> [--input_dims n,c,h,w (optional)]
 	````
 	
 	* NNEF Models
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/nnef_to_nnir.py <nnefInputFolder> <outputFolder>
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnef_to_nnir.py <nnefInputFolder> <outputFolder>
 	````
 	
 * Convert an AMD NNIR model into OpenVX C code:
@@ -95,7 +95,7 @@ Use MIVisionX [Neural Net Model Compiler
 <p align="center"><img width="80%" src="images/flow-3-openvx-b.png" /></p>
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py <nnirModelFolder> <nnirModelOutputFolder>
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py <nnirModelFolder> <nnirModelOutputFolder>
 	````
 
 ### Build - Inference Application
@@ -181,7 +181,7 @@ Run inference on the live camera feed wi
 
 	**Note:**
 	* MIVisionX needs to be pre-installed
-	* MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+	* MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
 	* ONNX model conversion requires ONNX install using `pip install onnx`	
 
 * **Step 2:** Download pre-trained SqueezeNet ONNX model from [ONNX Model Zoo](https://github.com/onnx/models#open-neural-network-exchange-onnx-model-zoo) - [SqueezeNet Model](https://s3.amazonaws.com/download.onnx/models/opset_8/squeezenet.tar.gz)
@@ -197,13 +197,13 @@ Run inference on the live camera feed wi
 	* Convert .onnx to NNIR
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/onnx_to_nnir.py squeezenet/model.onnx squeezenet-nnir
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/onnx_to_nnir.py squeezenet/model.onnx squeezenet-nnir
 	````
 
 	* Convert NNIR to OpenVX
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py squeezenet-nnir/ squeezenet-openvx
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py squeezenet-nnir/ squeezenet-openvx
 	````
 	**Note:** 
 	* annmodule.cpp & annmodule.h generated in squeezenet-openvx folder
@@ -253,7 +253,7 @@ Run inference on the live camera feed wi
 
 	**Note:**
 	* MIVisionX needs to be pre-installed
-	* MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+	* MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
 
 * **Step 2:** Download pre-trained Tiny YoloV2 caffe model - [yoloV2Tiny20.caffemodel](https://github.com/kiritigowda/YoloV2NCS/raw/master/models/caffemodels/yoloV2Tiny20.caffemodel)
 	````
@@ -265,13 +265,13 @@ Run inference on the live camera feed wi
 	* Convert .caffemodel to NNIR
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py yoloV2Tiny20.caffemodel yoloV2-nnir --input-dims 1,3,416,416
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py yoloV2Tiny20.caffemodel yoloV2-nnir --input-dims 1,3,416,416
 	````
 
 	* Convert NNIR to OpenVX
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py yoloV2-nnir yoloV2-openvx
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py yoloV2-nnir yoloV2-openvx
 	````
 	**Note:** 
 	* annmodule.cpp & annmodule.h generated in yoloV2-openvx folder
@@ -325,7 +325,7 @@ Run inference on the live camera feed wi
 
 	**Note:**
 	* MIVisionX needs to be pre-installed
-	* MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+	* MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
 	* NNEF model conversion requires [NNEF python parser](https://github.com/KhronosGroup/NNEF-Tools/tree/master/parser#nnef-parser-project) installed
 
 * **Step 2:** Download pre-trained VGG 16 NNEF model
@@ -342,13 +342,13 @@ Run inference on the live camera feed wi
 	* Convert .nnef to NNIR
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/nnef_to_nnir.py vgg16/ vgg16-nnir
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnef_to_nnir.py vgg16/ vgg16-nnir
 	````
 	
 	* Convert NNIR to OpenVX
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py vgg16-nnir/ vgg16-openvx
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py vgg16-nnir/ vgg16-openvx
 	````
 	**Note:** 
 	* annmodule.cpp & annmodule.h generated in vgg16-openvx folder
@@ -398,7 +398,7 @@ Run inference on the live camera feed wi
 
 	**Note:**
 	* MIVisionX needs to be pre-installed
-	* MIVisionX Model Compiler & Optimizer scripts are at `/opt/rocm/libexec/mivisionx/model_compiler/python/`
+	* MIVisionX Model Compiler & Optimizer scripts are at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/`
 
 * **Step 2:** Download pre-trained VGG 16 caffe model - [VGG_ILSVRC_16_layers.caffemodel](http://www.robots.ox.ac.uk/~vgg/software/very_deep/caffe/VGG_ILSVRC_16_layers.caffemodel)
 	````
@@ -411,13 +411,13 @@ Run inference on the live camera feed wi
 	* Convert .caffemodel to NNIR
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py VGG_ILSVRC_16_layers.caffemodel vgg16-nnir --input-dims 1,3,224,224
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/caffe_to_nnir.py VGG_ILSVRC_16_layers.caffemodel vgg16-nnir --input-dims 1,3,224,224
 	````
 	
 	* Convert NNIR to OpenVX
 
 	````
-	% python3 /opt/rocm/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py vgg16-nnir vgg16-openvx
+	% python3 @ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler/python/nnir_to_openvx.py vgg16-nnir vgg16-openvx
 	````
 	**Note:** 
 	* annmodule.cpp & annmodule.h generated in vgg16-openvx folder
diff -urp MIVisionX-rocm-5.4.3.orig/samples/README.md MIVisionX-rocm-5.4.3/samples/README.md
--- MIVisionX-rocm-5.4.3.orig/samples/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/samples/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -17,8 +17,8 @@ MIVisionX samples using [RunVX](../utili
 * To run the samples we need to put MIVisionX executables and libraries into the system path
 
 ``` 
-export PATH=$PATH:/opt/rocm/bin
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ```
 
 * To get help on RunVX, use `-h` option
@@ -115,8 +115,8 @@ MIVisionX samples using [LoomShell](../u
 * To run the samples we need to put MIVisionX executables and libraries into the system path
 
 ``` 
-export PATH=$PATH:/opt/rocm/bin
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ```
 
 * To get help on loom_shell, use `-help` option
diff -urp MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/gdf/README.md MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/gdf/README.md
--- MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/gdf/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/gdf/README.md	2023-09-04 09:39:13.359808028 -0700
@@ -2,7 +2,7 @@
 * Download the mnist model to this directory, then run the sample.
 ```
 wget https://github.com/onnx/models/blob/main/vision/classification/mnist/model/mnist-8.onnx?raw=true
-/opt/rocm/bin/runvx mnist_migraphx.gdf
+@ESYSROOT_ROCM_PATH@/bin/runvx mnist_migraphx.gdf
 ```
 
 * To change the input image, use either image_0.jpg, image_1.jpg or image_4.jpg each corresponding to digits 0, 1 and 4 respectively.
diff -urp MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/mnist/CMakeLists.txt MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/mnist/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/mnist/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/mnist/CMakeLists.txt	2023-09-04 09:39:13.359808028 -0700
@@ -27,10 +27,10 @@
 cmake_minimum_required (VERSION 3.0)
 project(migraphx_node_test)
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "default ROCm installation path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 include_directories(${ROCM_PATH}/include ${ROCM_PATH}/include/mivisionx)
-link_directories(${ROCM_PATH}/lib)
+link_directories(${ROCM_PATH}/@LIBDIR@)
 list(APPEND CMAKE_PREFIX_PATH ${ROCM_PATH} ${ROCM_PATH}/hip)
 find_package(migraphx QUIET)
 if(migraphx_FOUND)
@@ -38,4 +38,4 @@ if(migraphx_FOUND)
     target_link_libraries(${PROJECT_NAME} migraphx::c openvx vx_amd_migraphx)
 else()
     message("-- ERROR!: MIGraphX not Found, please install MIGrpahX!-- ${PROJECT_NAME} excluded${ColourReset}")
-endif()
\ No newline at end of file
+endif()
diff -urp MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/resnet50/CMakeLists.txt MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/resnet50/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/resnet50/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/resnet50/CMakeLists.txt	2023-09-04 09:39:13.359808028 -0700
@@ -27,10 +27,10 @@
 cmake_minimum_required (VERSION 3.0)
 project(migraphx_node_test)
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "default ROCm installation path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 include_directories(${ROCM_PATH}/include ${ROCM_PATH}/include/mivisionx)
-link_directories(${ROCM_PATH}/lib)
+link_directories(${ROCM_PATH}/@LIBDIR@)
 include_directories(${OpenCV_INCLUDE_DIRS})
 list(APPEND CMAKE_PREFIX_PATH ${ROCM_PATH} ${ROCM_PATH}/hip)
 find_package(migraphx QUIET)
diff -urp MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/runMIGraphXTests/CMakeLists.txt MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/runMIGraphXTests/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/tests/amd_migraphx_tests/runMIGraphXTests/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/amd_migraphx_tests/runMIGraphXTests/CMakeLists.txt	2023-09-04 09:39:13.363808028 -0700
@@ -27,10 +27,10 @@
 cmake_minimum_required (VERSION 3.0)
 project(runMIGraphXTests)
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "default ROCm installation path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)
 include_directories(${ROCM_PATH}/include ${ROCM_PATH}/include/mivisionx)
-link_directories(${ROCM_PATH}/lib)
+link_directories(${ROCM_PATH}/@LIBDIR@)
 list(APPEND CMAKE_PREFIX_PATH ${ROCM_PATH} ${ROCM_PATH}/hip)
 find_package(migraphx QUIET)
 if(migraphx_FOUND)
@@ -38,4 +38,4 @@ if(migraphx_FOUND)
     target_link_libraries(${PROJECT_NAME} migraphx::c openvx vx_amd_migraphx)
 else()
     message("-- ERROR!: MIGraphX not Found, please install MIGrpahX!-- ${PROJECT_NAME} excluded${ColourReset}")
-endif()
\ No newline at end of file
+endif()
diff -urp MIVisionX-rocm-5.4.3.orig/tests/conformance_tests/runConformanceTests.py MIVisionX-rocm-5.4.3/tests/conformance_tests/runConformanceTests.py
--- MIVisionX-rocm-5.4.3.orig/tests/conformance_tests/runConformanceTests.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/conformance_tests/runConformanceTests.py	2023-09-04 09:39:13.363808028 -0700
@@ -109,9 +109,9 @@ if backendType in ('ALL', 'HIP'):
 
 
 openvxIncludePath = scriptPath+'/../../amd_openvx/openvx/include'
-openvxHostLib = cts_dir+'/build-host/lib'
-openvxOpenclLib = cts_dir+'/build-opencl/lib'
-openvxHipLib = cts_dir+'/build-hip/lib'
+openvxHostLib = cts_dir+'/build-host/@LIBDIR@'
+openvxOpenclLib = cts_dir+'/build-opencl/@LIBDIR@'
+openvxHipLib = cts_dir+'/build-hip/@LIBDIR@'
 
 ctsHost = cts_dir+'/conformance_tests/build-cts-host'
 ctsOpenCL = cts_dir+'/conformance_tests/build-cts-opencl'
@@ -142,16 +142,16 @@ gpu_info = gpu_info.rstrip()  # strip ou
 memory_info = shell('inxi -c 0 -m')
 board_info = shell('inxi -c0 -M')
 
-vbios = shell('(cd /opt/rocm/bin/; ./rocm-smi -v)')
+vbios = shell('(cd @ESYSROOT_ROCM_PATH@/bin/; ./rocm-smi -v)')
 
-#rocmInfo = shell('(cd /opt/rocm/bin/; ./rocm-smi -a)')
+#rocmInfo = shell('(cd @ESYSROOT_ROCM_PATH@/bin/; ./rocm-smi -a)')
 
 rocm_packages = shell('dpkg-query -W | grep rocm')
 rocm_packages = rocm_packages.splitlines()
 
 lib_type = '.so'
 dep_libs = 'rt'
-HIP_deps = '/opt/rocm/lib/libamdhip64.so'
+HIP_deps = '@ESYSROOT_ROCM_PATH@/@LIBDIR@/libamdhip64.so'
 LDD_Links = 'ldd'
 if platform.system() == 'Darwin':
     lib_type = '.dylib'
@@ -242,7 +242,7 @@ if backendType in ('ALL', 'HIP'):
 # Run Host
 if backendType in ('ALL', 'HOST'):
     os.system('(cd '+ctsHost+' && '+testDataExport +
-              ' && LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-HOST-CTS.md )')
+              ' && LD_LIBRARY_PATH=./@LIBDIR@ ./bin/vx_test_conformance | tee OpenVX-HOST-CTS.md )')
     # save conformance logs
     host_data = cts_log_data = ""
     with open(reportFileDir) as fp:
@@ -257,9 +257,9 @@ if backendType in ('ALL', 'HOST'):
 # Run OpenCL
 if backendType in ('ALL', 'OCL'):
     os.system('(cd '+ctsOpenCL+' && '+testDataExport +
-              ' && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-OCL.md )')
+              ' && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./@LIBDIR@ ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-OCL.md )')
     os.system('(cd '+ctsOpenCL+' && '+testDataExport +
-              ' && AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-OCL.md )')
+              ' && AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./@LIBDIR@ ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-OCL.md )')
     # save conformance logs
     ocl_data = cts_log_data = ""
     with open(reportFileDir) as fp:
@@ -274,9 +274,9 @@ if backendType in ('ALL', 'OCL'):
 # Run HIP
 if backendType in ('ALL', 'HIP'):
     os.system('(cd '+ctsHIP+' && '+testDataExport +
-              ' && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-HIP.md )')
+              ' && AGO_DEFAULT_TARGET=CPU LD_LIBRARY_PATH=./@LIBDIR@ ./bin/vx_test_conformance | tee OpenVX-CPU-CTS-HIP.md )')
     os.system('(cd '+ctsHIP+' && '+testDataExport +
-              ' && AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./lib ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-HIP.md )')
+              ' && AGO_DEFAULT_TARGET=GPU LD_LIBRARY_PATH=./@LIBDIR@ ./bin/vx_test_conformance | tee OpenVX-GPU-CTS-HIP.md )')
     # save conformance logs
     hip_data = cts_log_data = ""
     with open(reportFileDir) as fp:
diff -urp MIVisionX-rocm-5.4.3.orig/tests/library_tests/runLibraryTests.py MIVisionX-rocm-5.4.3/tests/library_tests/runLibraryTests.py
--- MIVisionX-rocm-5.4.3.orig/tests/library_tests/runLibraryTests.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/library_tests/runLibraryTests.py	2023-09-04 09:47:30.267801392 -0700
@@ -47,7 +47,7 @@ def write_formatted(output, f):
 
 # Import arguments
 parser = argparse.ArgumentParser()
-parser.add_argument('--install_directory',    type=str, default='/opt/rocm',
+parser.add_argument('--install_directory',    type=str, default='@ESYSROOT_ROCM_PATH@',
                     help='MIVisionX Install Directory - optional')
 parser.add_argument('--backend_type',       type=str, default='OCL',
                     help='Backend type - optional (default:CPU [options:CPU/HIP/OCL])')
@@ -91,18 +91,18 @@ memory_info = shell('inxi -c 0 -m')
 board_info = shell('inxi -c0 -M')
 
 # level 1 - Libraries
-openvx_lib = shell('ldd '+MIVisionXAbsPath+'/lib/libopenvx.so')
-vxu_lib = shell('ldd '+MIVisionXAbsPath+'/lib/libvxu.so')
+openvx_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/libopenvx.so')
+vxu_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/libvxu.so')
 # level 2 - Libraries
-loom_lib = shell('ldd '+MIVisionXAbsPath+'/lib/libvx_loomsl.so')
+loom_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/libvx_loomsl.so')
 # level 3 - libraries
-media_lib = shell('ldd '+MIVisionXAbsPath+'/lib/libvx_amd_media.so')
-opencv_lib = shell('ldd '+MIVisionXAbsPath+'/lib/libvx_opencv.so')
+media_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/libvx_amd_media.so')
+opencv_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/libvx_opencv.so')
 # level 4 - libraries
-nn_lib = shell('ldd '+MIVisionXAbsPath+'/lib/libvx_nn.so')
+nn_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/libvx_nn.so')
 # level 5 - libraries
-rpp_lib = shell('ldd '+MIVisionXAbsPath+'/lib/libvx_rpp.so')
-rocal_lib = shell('ldd '+MIVisionXAbsPath+'/lib/librocal.so')
+rpp_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/libvx_rpp.so')
+rocal_lib = shell('ldd '+MIVisionXAbsPath+'/@LIBDIR@/librocal.so')
 
 # Executables
 runvx_exe = shell('ldd '+MIVisionXAbsPath+'/bin/runvx')
Only in MIVisionX-rocm-5.4.3/tests/library_tests: runLibraryTests.py.orig
Only in MIVisionX-rocm-5.4.3/tests/library_tests: runLibraryTests.py.rej
diff -urp MIVisionX-rocm-5.4.3.orig/tests/neural_network_tests/runNeuralNetworkTests.py MIVisionX-rocm-5.4.3/tests/neural_network_tests/runNeuralNetworkTests.py
--- MIVisionX-rocm-5.4.3.orig/tests/neural_network_tests/runNeuralNetworkTests.py	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/neural_network_tests/runNeuralNetworkTests.py	2023-09-04 09:48:23.227800685 -0700
@@ -130,7 +130,7 @@ parser.add_argument('--test_info',
                     help='Show test info - optional (default:no [options:no/yes])')
 parser.add_argument('--backend_type',       type=str, default='OCL',
                     help='Backend type - optional (default:HOST [options:HOST/HIP/OCL])')
-parser.add_argument('--install_directory',    type=str, default='/opt/rocm',
+parser.add_argument('--install_directory',    type=str, default='@ESYSROOT_ROCM_PATH@',
                     help='MIVisionX Install Directory - optional')
 args = parser.parse_args()
 
@@ -749,12 +749,12 @@ gpu_info = gpu_info.rstrip()  # strip ou
 memory_info = shell('inxi -c 0 -m')
 board_info = shell('inxi -c0 -M')
 
-lib_tree = shell('ldd -v '+installDir+'/lib/libvx_nn.so')
+lib_tree = shell('ldd -v '+installDir+'/@LIBDIR@/libvx_nn.so')
 lib_tree = strip_libtree_addresses(lib_tree)
 
-vbios = shell('(cd /opt/rocm/bin/; ./rocm-smi -v)')
+vbios = shell('(cd @ESYSROOT_ROCM_PATH@/bin/; ./rocm-smi -v)')
 
-rocmInfo = shell('(cd /opt/rocm/bin/; ./rocm-smi -a)')
+rocmInfo = shell('(cd @ESYSROOT_ROCM_PATH@/bin/; ./rocm-smi -a)')
 
 rocm_packages = shell('dpkg-query -W | grep rocm')
 rocm_packages = rocm_packages.splitlines()
Only in MIVisionX-rocm-5.4.3/tests/neural_network_tests: runNeuralNetworkTests.py.orig
Only in MIVisionX-rocm-5.4.3/tests/neural_network_tests: runNeuralNetworkTests.py.rej
diff -urp MIVisionX-rocm-5.4.3.orig/tests/openvx_node_tests/runvxTestAllScript.sh MIVisionX-rocm-5.4.3/tests/openvx_node_tests/runvxTestAllScript.sh
--- MIVisionX-rocm-5.4.3.orig/tests/openvx_node_tests/runvxTestAllScript.sh	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/openvx_node_tests/runvxTestAllScript.sh	2023-09-04 09:39:13.363808028 -0700
@@ -534,16 +534,16 @@ if [ "$BACKEND_TYPE" = "HOST" ]; then
         cd build_host
         cmake ..
         sudo make -j20 install
-        export LD_LIBRARY_PATH="/opt/rocm/lib"
+        export LD_LIBRARY_PATH="@ESYSROOT_ROCM_PATH@/@LIBDIR@"
         cd ../tests/openvx_node_tests
     elif [ "$OVERRIDE" = "1" ]; then
         cd ../../build_host
         sudo make -j20 install
-        export LD_LIBRARY_PATH="/opt/rocm/lib"
+        export LD_LIBRARY_PATH="@ESYSROOT_ROCM_PATH@/@LIBDIR@"
         cd ../tests/openvx_node_tests
     else
         RUNVX_PATH="$PRIMARY_RUNVX_PATH/"
-        export LD_LIBRARY_PATH="$PRIMARY_RUNVX_PATH/../lib"
+        export LD_LIBRARY_PATH="$PRIMARY_RUNVX_PATH/../@LIBDIR@"
     fi
     echo "$LD_LIBRARY_PATH"
 
@@ -587,16 +587,16 @@ if [ "$BACKEND_TYPE" = "OCL" ] || [ "$BA
         cd build_ocl
         cmake ..
         sudo make -j20 install
-        export LD_LIBRARY_PATH="/opt/rocm/lib"
+        export LD_LIBRARY_PATH="@ESYSROOT_ROCM_PATH@/@LIBDIR@"
         cd ../tests/openvx_node_tests
     elif [ "$OVERRIDE" = "1" ]; then
         cd ../../build_ocl
         sudo make -j20 install
-        export LD_LIBRARY_PATH="/opt/rocm/lib"
+        export LD_LIBRARY_PATH="@ESYSROOT_ROCM_PATH@/@LIBDIR@"
         cd ../tests/openvx_node_tests
     else
         RUNVX_PATH="$PRIMARY_RUNVX_PATH/"
-        export LD_LIBRARY_PATH="$PRIMARY_RUNVX_PATH/../lib"
+        export LD_LIBRARY_PATH="$PRIMARY_RUNVX_PATH/../@LIBDIR@"
     fi
     echo "$LD_LIBRARY_PATH"
 
@@ -640,20 +640,20 @@ if [ "$BACKEND_TYPE" = "HIP" ] || [ "$BA
         cd build_hip
         cmake -DBACKEND=HIP ..
         sudo make -j20 install
-        export LD_LIBRARY_PATH="/opt/rocm/lib"
+        export LD_LIBRARY_PATH="@ESYSROOT_ROCM_PATH@/@LIBDIR@"
         cd ../tests/openvx_node_tests
     elif [ "$OVERRIDE" = "1" ]; then
         cd ../../build_hip
         sudo make -j20 install
-        export LD_LIBRARY_PATH="/opt/rocm/lib"
+        export LD_LIBRARY_PATH="@ESYSROOT_ROCM_PATH@/@LIBDIR@"
         cd ../tests/openvx_node_tests
     else
         if [ "$BACKEND_TYPE" = "HIP" ]; then
             RUNVX_PATH="$PRIMARY_RUNVX_PATH/"
-            export LD_LIBRARY_PATH="$PRIMARY_RUNVX_PATH/../lib"
+            export LD_LIBRARY_PATH="$PRIMARY_RUNVX_PATH/../@LIBDIR@"
         else
             RUNVX_PATH="$SECONDARY_RUNVX_PATH/"
-            export LD_LIBRARY_PATH="$SECONDARY_RUNVX_PATH/../lib"
+            export LD_LIBRARY_PATH="$SECONDARY_RUNVX_PATH/../@LIBDIR@"
         fi
     fi
     echo "$LD_LIBRARY_PATH"
@@ -927,4 +927,4 @@ else
     printf "\nFinished running funcitonalities.\n"
 fi
 
-############# Need not edit #############
\ No newline at end of file
+############# Need not edit #############
diff -urp MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/RALI/RALI-UNITTEST-CPU.sh MIVisionX-rocm-5.4.3/tests/smoke_tests/RALI/RALI-UNITTEST-CPU.sh
--- MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/RALI/RALI-UNITTEST-CPU.sh	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/smoke_tests/RALI/RALI-UNITTEST-CPU.sh	2023-09-04 09:39:13.363808028 -0700
@@ -1,4 +1,4 @@
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 rm -rf RALI-CPU-RESULTS
 mkdir RALI-CPU-RESULTS
 
diff -urp MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/RALI/RALI-UNITTEST-GPU.sh MIVisionX-rocm-5.4.3/tests/smoke_tests/RALI/RALI-UNITTEST-GPU.sh
--- MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/RALI/RALI-UNITTEST-GPU.sh	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/smoke_tests/RALI/RALI-UNITTEST-GPU.sh	2023-09-04 09:39:13.363808028 -0700
@@ -1,4 +1,4 @@
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 rm -rf RALI-GPU-RESULTS
 mkdir RALI-GPU-RESULTS
 
diff -urp MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/rocAL/rocAL-unittest-CPU.sh MIVisionX-rocm-5.4.3/tests/smoke_tests/rocAL/rocAL-unittest-CPU.sh
--- MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/rocAL/rocAL-unittest-CPU.sh	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/smoke_tests/rocAL/rocAL-unittest-CPU.sh	2023-09-04 09:39:13.363808028 -0700
@@ -1,5 +1,5 @@
 #!/bin/bash
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 rm -rf rocAL-CPU-RESULTS
 mkdir rocAL-CPU-RESULTS
 
diff -urp MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/rocAL/rocAL-unittest-GPU.sh MIVisionX-rocm-5.4.3/tests/smoke_tests/rocAL/rocAL-unittest-GPU.sh
--- MIVisionX-rocm-5.4.3.orig/tests/smoke_tests/rocAL/rocAL-unittest-GPU.sh	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/smoke_tests/rocAL/rocAL-unittest-GPU.sh	2023-09-04 09:39:13.363808028 -0700
@@ -1,5 +1,5 @@
 #!/bin/bash
-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 rm -rf rocAL-GPU-RESULTS
 mkdir rocAL-GPU-RESULTS
 
diff -urp MIVisionX-rocm-5.4.3.orig/tests/zen_dnn_tests/conv/CMakeLists.txt MIVisionX-rocm-5.4.3/tests/zen_dnn_tests/conv/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/tests/zen_dnn_tests/conv/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/zen_dnn_tests/conv/CMakeLists.txt	2023-09-04 09:39:13.363808028 -0700
@@ -79,14 +79,14 @@ include_directories(${ZENDNN_GIT_ROOT}/i
 # ZENDNN_BLIS_PATH includes
 include_directories(${ZENDNN_BLIS_PATH}/include)
 # GNU Includes
-include_directories(/usr/lib/x86_64-linux-gnu/include)
+include_directories(@ESYSROOT@/usr/include)
 # test utilities
 include_directories(${ZENDNN_GIT_ROOT}/tests/api_tests)
 
 # Link Library Directories
-link_directories(${ZENDNN_GIT_ROOT}/_out/lib)
-link_directories(${ZENDNN_BLIS_PATH}/lib)
-link_directories(/usr/lib/x86_64-linux-gnu/lib)
+link_directories(${ZENDNN_GIT_ROOT}/_out/@LIBDIR@)
+link_directories(${ZENDNN_BLIS_PATH}/LIBDIR@)
+link_directories(@ESYSROOT@/usr/@LIBDIR@)
 
 file(GLOB My_Source_Files ./source/*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
diff -urp MIVisionX-rocm-5.4.3.orig/tests/zen_dnn_tests/mnist/CMakeLists.txt MIVisionX-rocm-5.4.3/tests/zen_dnn_tests/mnist/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/tests/zen_dnn_tests/mnist/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/zen_dnn_tests/mnist/CMakeLists.txt	2023-09-04 09:39:13.363808028 -0700
@@ -80,14 +80,14 @@ include_directories(${ZENDNN_GIT_ROOT}/i
 # ZENDNN_BLIS_PATH includes
 include_directories(${ZENDNN_BLIS_PATH}/include)
 # GNU Includes
-include_directories(/usr/lib/x86_64-linux-gnu/include)
+include_directories(@ESYSROOT@/usr/include)
 # test utilities
 include_directories(${ZENDNN_GIT_ROOT}/tests/api_tests)
 
 # Link Library Directories
-link_directories(${ZENDNN_GIT_ROOT}/_out/lib)
-link_directories(${ZENDNN_BLIS_PATH}/lib)
-link_directories(/usr/lib/x86_64-linux-gnu/lib)
+link_directories(${ZENDNN_GIT_ROOT}/_out/@LIBDIR@)
+link_directories(${ZENDNN_BLIS_PATH}/@LIBDIR@)
+link_directories(@ESYSROOT@/usr/@LIBDIR@)
 
 file(GLOB My_Source_Files ./source/*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
@@ -97,4 +97,4 @@ target_link_libraries(${PROJECT_NAME} ${
 
 message("-- ${PROJECT_NAME} -- Using Compiler - Path:" ${CMAKE_CXX_COMPILER} "\tVersion:" ${CMAKE_CXX_COMPILER_VERSION} "\tCompiler:" ${CMAKE_CXX_COMPILER_ID}${ColourReset})
 message("-- ${PROJECT_NAME} -- CMAKE_CXX_FLAGS:${CMAKE_CXX_FLAGS}${ColourReset}")
-message("-- ${PROJECT_NAME} -- Link Libraries: ${LINK_LIBRARY_LIST}${ColourReset}")
\ No newline at end of file
+message("-- ${PROJECT_NAME} -- Link Libraries: ${LINK_LIBRARY_LIST}${ColourReset}")
diff -urp MIVisionX-rocm-5.4.3.orig/tests/zen_dnn_tests/mnist_app/CMakeLists.txt MIVisionX-rocm-5.4.3/tests/zen_dnn_tests/mnist_app/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/tests/zen_dnn_tests/mnist_app/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/tests/zen_dnn_tests/mnist_app/CMakeLists.txt	2023-09-04 09:39:13.363808028 -0700
@@ -80,14 +80,14 @@ include_directories(${ZENDNN_GIT_ROOT}/i
 # ZENDNN_BLIS_PATH includes
 include_directories(${ZENDNN_BLIS_PATH}/include)
 # GNU Includes
-include_directories(/usr/lib/x86_64-linux-gnu/include)
+include_directories(@ESYSROOT@/usr/include)
 # test utilities
 include_directories(${ZENDNN_GIT_ROOT}/tests/api_tests)
 
 # Link Library Directories
-link_directories(${ZENDNN_GIT_ROOT}/_out/lib)
-link_directories(${ZENDNN_BLIS_PATH}/lib)
-link_directories(/usr/lib/x86_64-linux-gnu/lib)
+link_directories(${ZENDNN_GIT_ROOT}/_out/@LIBDIR@)
+link_directories(${ZENDNN_BLIS_PATH}/@LIBDIR@)
+link_directories(@ESYSROOT@/usr/@LIBDIR@)
 
 file(GLOB My_Source_Files ./source/*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
@@ -121,4 +121,4 @@ file(COPY ${IMAGE_BIN_LIST} DESTINATION
 
 message("-- ${PROJECT_NAME} -- Using Compiler - Path:" ${CMAKE_CXX_COMPILER} "\tVersion:" ${CMAKE_CXX_COMPILER_VERSION} "\tCompiler:" ${CMAKE_CXX_COMPILER_ID}${ColourReset})
 message("-- ${PROJECT_NAME} -- CMAKE_CXX_FLAGS:${CMAKE_CXX_FLAGS}${ColourReset}")
-message("-- ${PROJECT_NAME} -- Link Libraries: ${LINK_LIBRARY_LIST}${ColourReset}")
\ No newline at end of file
+message("-- ${PROJECT_NAME} -- Link Libraries: ${LINK_LIBRARY_LIST}${ColourReset}")
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/CMakeLists.txt	2023-09-04 09:39:13.363808028 -0700
@@ -22,7 +22,7 @@ cmake_minimum_required(VERSION 3.0)
 project(utilities)
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
-#set(ROCM_PATH /opt/rocm CACHE PATH " default ROCm installation path")
+#set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH " default ROCm installation path")
 
 if(GPU_SUPPORT)
     find_package(FFmpeg QUIET)
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/inference_generator/README.md MIVisionX-rocm-5.4.3/utilities/inference_generator/README.md
--- MIVisionX-rocm-5.4.3.orig/utilities/inference_generator/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/inference_generator/README.md	2023-09-04 09:39:13.363808028 -0700
@@ -83,8 +83,8 @@ vx_graph annCreateGraphWithInputImageWit
 Make sure that all executables and libraries are in `PATH` and `LD_LIBRARY_PATH` environment variables.
 
 ```
-% export PATH=$PATH:/opt/rocm/bin
-% export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+% export PATH=$PATH:@ESYSROOT_ROCM_PATH@/bin
+% export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
 ```
 
 Below log outlines a simple use-case with inference generator.
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/inference_generator/src/caffe2openvx.cpp MIVisionX-rocm-5.4.3/utilities/inference_generator/src/caffe2openvx.cpp
--- MIVisionX-rocm-5.4.3.orig/utilities/inference_generator/src/caffe2openvx.cpp	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/inference_generator/src/caffe2openvx.cpp	2023-09-04 09:39:13.363808028 -0700
@@ -2329,8 +2329,8 @@ void generateCode(
     ofsCodeM << "list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)" << std::endl;
     ofsCodeM << "find_package(OpenCL     REQUIRED)" << std::endl;
     ofsCodeM << "include_directories (${OpenCL_INCLUDE_DIRS} ${OpenCL_INCLUDE_DIRS}/Headers )" << std::endl;
-    ofsCodeM << "include_directories (/opt/rocm/include/mivisionx)" << std::endl;
-    ofsCodeM << "link_directories    (/opt/rocm/lib)" << std::endl;
+    ofsCodeM << "include_directories (@ESYSROOT_ROCM_PATH@/include/mivisionx)" << std::endl;
+    ofsCodeM << "link_directories    (@ESYSROOT_ROCM_PATH@/@LIBDIR@)" << std::endl;
     ofsCodeM << "list(APPEND SOURCES annmodule.cpp)" << std::endl;
     ofsCodeM << "add_library(${PROJECT_NAME} SHARED ${SOURCES})" << std::endl;
     ofsCodeM << "set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -msse4.2 -std=gnu++14\")" << std::endl;
@@ -2537,34 +2537,26 @@ void generateCode(
     ofsCodeD << "PATHS" << std::endl;
     ofsCodeD << "/usr/include" << std::endl;
     ofsCodeD << "/usr/local/include" << std::endl;
-    ofsCodeD << "/opt/rocm/opencl/include" << std::endl;
+    ofsCodeD << "@ESYSROOT_ROCM_PATH@/opencl/include" << std::endl;
     ofsCodeD << "DOC \"OpenCL header file path\"" << std::endl;
     ofsCodeD << ")" << std::endl;
     ofsCodeD << "mark_as_advanced( OPENCL_INCLUDE_DIRS )" << std::endl << std::endl;
     ofsCodeD << "if(\"${CMAKE_SIZEOF_VOID_P}\" EQUAL \"8\")" << std::endl;
-    ofsCodeD << "   find_library( OPENCL_LIBRARIES" << std::endl;
-    ofsCodeD << "       NAMES OpenCL" << std::endl;
-    ofsCodeD << "       HINTS" << std::endl;
-    ofsCodeD << "       ${OPENCL_ROOT}/lib" << std::endl;
-    ofsCodeD << "       $ENV{AMDAPPSDKROOT}/lib" << std::endl;
-    ofsCodeD << "       DOC \"OpenCL dynamic library path\"" << std::endl;
-    ofsCodeD << "       PATH_SUFFIXES x86_64 x64 x86_64/sdk" << std::endl;
-    ofsCodeD << "       PATHS" << std::endl;
-    ofsCodeD << "       /usr/lib" << std::endl;
-    ofsCodeD << "       /opt/rocm/opencl/lib" << std::endl;
-    ofsCodeD << "       )" << std::endl;
+    ofsCodeD << "   set(_PATH_SUFFIXES \"x86_64 x64 x86_64/sdk\")" << std::endl;
     ofsCodeD << "else( )" << std::endl;
-    ofsCodeD << "   find_library( OPENCL_LIBRARIES" << std::endl;
-    ofsCodeD << "       NAMES OpenCL" << std::endl;
-    ofsCodeD << "       HINTS" << std::endl;
-    ofsCodeD << "       ${OPENCL_ROOT}/lib" << std::endl;
-    ofsCodeD << "       $ENV{AMDAPPSDKROOT}/lib" << std::endl;
-    ofsCodeD << "       DOC \"OpenCL dynamic library path\"" << std::endl;
-    ofsCodeD << "       PATH_SUFFIXES x86 Win32" << std::endl;
-    ofsCodeD << "       PATHS" << std::endl;
-    ofsCodeD << "       /usr/lib" << std::endl;
-    ofsCodeD << "       )" << std::endl;
+    ofsCodeD << "   set(_PATH_SUFFIXES \"x86 Win32\")" << std::endl;
     ofsCodeD << "endif( )" << std::endl;
+    ofsCodeD << "find_library( OPENCL_LIBRARIES" << std::endl;
+    ofsCodeD << "    NAMES OpenCL" << std::endl;
+    ofsCodeD << "    HINTS" << std::endl;
+    ofsCodeD << "    ${OPENCL_ROOT}/@LIBDIR@" << std::endl;
+    ofsCodeD << "    $ENV{AMDAPPSDKROOT}/@LIBDIR@" << std::endl;
+    ofsCodeD << "    DOC \"OpenCL dynamic library path\"" << std::endl;
+    ofsCodeD << "    PATH_SUFFIXES ${_PATH_SUFFIXES}" << std::endl;
+    ofsCodeD << "    PATHS" << std::endl;
+    ofsCodeD << "    @ESYSROOT@/usr/@LIBDIR@" << std::endl;
+    ofsCodeD << "    @ESYSROOT_ROCM_PATH@/opencl/@LIBDIR@" << std::endl;
+    ofsCodeD << "    )" << std::endl;
     ofsCodeD << "mark_as_advanced( OPENCL_LIBRARIES )" << std::endl << std::endl;
     ofsCodeD << "include( FindPackageHandleStandardArgs )" << std::endl;
     ofsCodeD << "find_package_handle_standard_args( OPENCL DEFAULT_MSG OPENCL_LIBRARIES OPENCL_INCLUDE_DIRS )" << std::endl;
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/inference_generator/src/nnef2openvx.cpp MIVisionX-rocm-5.4.3/utilities/inference_generator/src/nnef2openvx.cpp
--- MIVisionX-rocm-5.4.3.orig/utilities/inference_generator/src/nnef2openvx.cpp	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/inference_generator/src/nnef2openvx.cpp	2023-09-04 09:39:13.363808028 -0700
@@ -1744,8 +1744,8 @@ protected:
              << "find_package(OpenCL REQUIRED)" << std::endl
              << "find_package(OpenCV QUIET)" << std::endl
              << "include_directories (${OpenCL_INCLUDE_DIRS} ${OpenCL_INCLUDE_DIRS}/Headers )" << std::endl
-             << "include_directories (/opt/rocm/include/mivisionx)" << std::endl
-             << "link_directories    (/opt/rocm/lib)" << std::endl
+             << "include_directories (@ESYSROOT_ROCM_PATH@/include/mivisionx)" << std::endl
+             << "link_directories    (@ESYSROOT_ROCM_PATH@/@LIBDIR@)" << std::endl
              << "list(APPEND SOURCES annmodule.cpp)" << std::endl
              << "add_library(${PROJECT_NAME} SHARED ${SOURCES})" << std::endl
              << "set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -msse4.2 -std=gnu++14\")" << std::endl
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/loom_io_media/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/loom_io_media/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/loom_io_media/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/loom_io_media/CMakeLists.txt	2023-09-04 09:39:13.363808028 -0700
@@ -48,7 +48,7 @@ list(APPEND SOURCES decoder.cpp encoder.
 
 add_library(${PROJECT_NAME} SHARED ${SOURCES})
 target_link_libraries(${PROJECT_NAME} ${OpenCL_LIBRARIES} ${AVUTIL_LIBRARY} ${AVCODEC_LIBRARY} ${SWSCALE_LIBRARY} ${AVFORMAT_LIBRARY} openvx)
-# install MIVisionX libs -- {ROCM_PATH}/lib
+# install MIVisionX libs -- {ROCM_PATH}/@LIBDIR@
 install (TARGETS ${PROJECT_NAME} DESTINATION ${CMAKE_INSTALL_LIBDIR})
 
 if("${CMAKE_CXX_COMPILER_ID}" STREQUAL "MSVC")
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/mv_deploy/mv_compile.cpp MIVisionX-rocm-5.4.3/utilities/mv_deploy/mv_compile.cpp
--- MIVisionX-rocm-5.4.3.orig/utilities/mv_deploy/mv_compile.cpp	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/mv_deploy/mv_compile.cpp	2023-09-04 09:39:13.363808028 -0700
@@ -75,7 +75,7 @@ static mv_status MIVID_API_CALL mvLoadUp
 
     if (backend == OpenVX_Rocm_GPU) {
         printf("compiling model for backend OpenVX_Rocm_GPU\n");
-        std::string compiler_path = "/opt/rocm/libexec/mivisionx/model_compiler";       // default
+        std::string compiler_path = "@ESYSROOT_ROCM_PATH@/libexec/mivisionx/model_compiler";       // default
         char *model_compiler_path = getenv("MIVISIONX_MODEL_COMPILER_PATH");
         std::string install_dir = std::string(install_folder).empty()? "mvdeploy_lib" : std::string(install_folder); 
         if (model_compiler_path != nullptr) {
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/mv_deploy/README.md MIVisionX-rocm-5.4.3/utilities/mv_deploy/README.md
--- MIVisionX-rocm-5.4.3.orig/utilities/mv_deploy/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/mv_deploy/README.md	2023-09-04 09:39:13.363808028 -0700
@@ -16,8 +16,8 @@ The sample demonstrates the use of mv_co
 	* AMD Radeon GPU or APU required
 * [ROCm](https://github.com/RadeonOpenCompute/ROCm#installing-from-amd-rocm-repositories)
 * Build & Install [MIVisionX](https://github.com/GPUOpen-ProfessionalCompute-Libraries/MIVisionX#linux-1)
-	* MIVisionX installs model compiler at `/opt/rocm/libexec/mivisionx`
-  * mv_compile installs at `/opt/rocm/bin` and mvdeploy_api.h installs at `/opt/rocm/include/mivisionx` 
+	* MIVisionX installs model compiler at `@ESYSROOT_ROCM_PATH@/libexec/mivisionx`
+  * mv_compile installs at `@ESYSROOT_ROCM_PATH@/bin` and mvdeploy_api.h installs at `@ESYSROOT_ROCM_PATH@/include/mivisionx` 
 
 
 ### Usage
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_basic_test/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_basic_test/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_basic_test/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_basic_test/CMakeLists.txt	2023-09-04 09:48:47.259800364 -0700
@@ -28,7 +28,7 @@ cmake_minimum_required(VERSION 3.0)
 project(rocal_basic_test)
 
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
@@ -36,7 +36,7 @@ find_package(OpenCV QUIET)
 find_package(AMDRPP QUIET)
 
 include_directories(${ROCM_PATH}/include/mivisionx/rocal)
-link_directories(${ROCM_PATH}/lib/)
+link_directories(${ROCM_PATH}/@LIBDIR@/)
 file(GLOB My_Source_Files ./*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
 
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_basic_test: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_basic_test: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader/CMakeLists.txt	2023-09-04 09:49:42.427799628 -0700
@@ -28,7 +28,7 @@ cmake_minimum_required (VERSION 3.0)
 project(rocal_dataloader)
 
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
@@ -36,7 +36,7 @@ find_package(OpenCV QUIET)
 find_package(AMDRPP QUIET)
 
 include_directories(${ROCM_PATH}/include/mivisionx/rocal)
-link_directories(${ROCM_PATH}/lib/)
+link_directories(${ROCM_PATH}/@LIBDIR@/)
 file(GLOB My_Source_Files ./*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
 
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader/README.md MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader/README.md
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader/README.md	2023-09-04 09:39:13.367808028 -0700
@@ -12,7 +12,7 @@ This application demonstrates a basic us
 
 ### build
   ````
-  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
   mkdir build
   cd build
   cmake ../
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_mt/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_mt/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_mt/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_mt/CMakeLists.txt	2023-09-04 09:50:11.499799239 -0700
@@ -28,7 +28,7 @@ cmake_minimum_required (VERSION 3.0)
 project (rocAL_dataloader_mt)
 
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
 find_package(OpenCV QUIET)
@@ -56,7 +56,7 @@ elseif ("${BACKEND}" STREQUAL "HIP")
         set(ENABLE_HIP 1)
         set(ENABLE_OPENCL 0)
         include_directories(${HIP_PATH}/include)
-        link_directories(${HIP_PATH}/lib)
+        link_directories(${HIP_PATH}/@LIBDIR@)
         message("-- ${Green}rali_dataloader_mt built with HIP Support${ColourReset}")
     else()
         message("-- ${Yellow}NOTE: HIP Not Found -- rali_dataloader_mt built for CPU only${ColourReset}")
@@ -67,7 +67,7 @@ endif()
 
 
 include_directories (${ROCM_PATH}/include/mivisionx/rocal)
-link_directories    (${ROCM_PATH}/lib/)
+link_directories    (${ROCM_PATH}/@LIBDIR@/)
 
 add_executable(${PROJECT_NAME} ./rocAL_dataloader_mt.cpp)
 if(OpenCV_FOUND)
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_mt: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_mt: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_mt/README.md MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_mt/README.md
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_mt/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_mt/README.md	2023-09-04 09:39:13.367808028 -0700
@@ -12,7 +12,7 @@ This application demonstrates a basic us
 
 ### build
   ````
-  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
   mkdir build
   cd build
   cmake ../
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_tf/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_tf/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_tf/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_tf/CMakeLists.txt	2023-09-04 09:50:32.427798960 -0700
@@ -27,14 +27,14 @@ cmake_minimum_required(VERSION 3.0)
 
 project(rocAL_dataloader_tf)
 
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
 find_package(OpenCV QUIET)
 find_package(AMDRPP QUIET)
 
 include_directories(${ROCM_PATH}/include/mivisionx/rocal)
-link_directories(${ROCM_PATH}/lib/)
+link_directories(${ROCM_PATH}/@LIBDIR@/)
 file(GLOB My_Source_Files ./*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
 
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_tf: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_tf: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_tf/README.md MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_tf/README.md
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_dataloader_tf/README.md	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_dataloader_tf/README.md	2023-09-04 09:39:13.367808028 -0700
@@ -12,7 +12,7 @@ This application demonstrates a basic us
 
 ### build
   ````
-  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/rocm/lib
+  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:@ESYSROOT_ROCM_PATH@/@LIBDIR@
   mkdir build
   cd build
   cmake ../
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_performance_tests/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_performance_tests/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests/CMakeLists.txt	2023-09-04 09:53:03.611796941 -0700
@@ -27,7 +27,7 @@ cmake_minimum_required(VERSION 3.0)
 
 project (rocAL_performance_tests)
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
@@ -35,7 +35,7 @@ find_package(OpenCV QUIET)
 find_package(AMDRPP QUIET)
 
 include_directories(${ROCM_PATH}/include/mivisionx/rocal)
-link_directories(${ROCM_PATH}/lib/)
+link_directories(${ROCM_PATH}/@LIBDIR@/)
 file(GLOB My_Source_Files ./*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
 
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_performance_tests_with_depth/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests_with_depth/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_performance_tests_with_depth/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests_with_depth/CMakeLists.txt	2023-09-04 09:54:25.931795842 -0700
@@ -29,7 +29,7 @@ cmake_minimum_required (VERSION 3.0)
 project (rocAL_performance_tests_with_depth)
 
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
@@ -37,7 +37,7 @@ find_package(OpenCV QUIET)
 find_package(AMDRPP QUIET)
 
 include_directories(${ROCM_PATH}/include/mivisionx/rocal)
-link_directories(${ROCM_PATH}/lib/)
+link_directories(${ROCM_PATH}/@LIBDIR@/)
 file(GLOB My_Source_Files ./*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
 
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests_with_depth: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_performance_tests_with_depth: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_unittests/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_unittests/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_unittests/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_unittests/CMakeLists.txt	2023-09-04 09:54:45.723795577 -0700
@@ -27,7 +27,7 @@ cmake_minimum_required(VERSION 3.0)
 
 project (rocAL_unittests)
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
@@ -35,7 +35,7 @@ find_package(OpenCV QUIET)
 find_package(AMDRPP QUIET)
 
 include_directories(${ROCM_PATH}/include/mivisionx/rocal)
-link_directories(${ROCM_PATH}/lib/)
+link_directories(${ROCM_PATH}/@LIBDIR@/)
 file(GLOB My_Source_Files ./*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
 
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_unittests: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_unittests: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_video_unittests/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_video_unittests/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/rocAL/rocAL_video_unittests/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_video_unittests/CMakeLists.txt	2023-09-04 09:55:34.523794926 -0700
@@ -27,7 +27,7 @@ cmake_minimum_required(VERSION 3.0)
 
 project (rocAL_video_unittests)
 set(CMAKE_CXX_STANDARD 14)
-set(ROCM_PATH /opt/rocm CACHE PATH "Default ROCm installation path")
+set(ROCM_PATH @ESYSROOT_ROCM_PATH@ CACHE PATH "Default ROCm installation path")
 
 list(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../amd_openvx/cmake)
 
@@ -35,7 +35,7 @@ find_package(OpenCV QUIET)
 find_package(AMDRPP QUIET)
 
 include_directories(${ROCM_PATH}/include/mivisionx/rocal)
-link_directories(${ROCM_PATH}/lib/)
+link_directories(${ROCM_PATH}/@LIBDIR@/)
 file(GLOB My_Source_Files ./*.cpp)
 add_executable(${PROJECT_NAME} ${My_Source_Files})
 
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_video_unittests: CMakeLists.txt.orig
Only in MIVisionX-rocm-5.4.3/utilities/rocAL/rocAL_video_unittests: CMakeLists.txt.rej
diff -urp MIVisionX-rocm-5.4.3.orig/utilities/runvx/CMakeLists.txt MIVisionX-rocm-5.4.3/utilities/runvx/CMakeLists.txt
--- MIVisionX-rocm-5.4.3.orig/utilities/runvx/CMakeLists.txt	2022-10-26 21:12:19.000000000 -0700
+++ MIVisionX-rocm-5.4.3/utilities/runvx/CMakeLists.txt	2023-09-04 09:39:13.367808028 -0700
@@ -70,7 +70,7 @@ elseif (GPU_SUPPORT AND "${BACKEND}" STR
         set_target_properties(runvx PROPERTIES LINKER_LANGUAGE CXX)
         set_target_properties(runvx PROPERTIES POSITION_INDEPENDENT_CODE ON)
         include_directories(${ROCM_PATH}/include)
-        link_directories(${HIP_PATH}/lib)
+        link_directories(${HIP_PATH}/@LIBDIR@)
         target_link_libraries(runvx hip::host)
         message("-- ${Green}runvx built with HIP Support${ColourReset}")
     else()
