<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pkgmetadata SYSTEM "https://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
  <maintainer type="project">
    <!-- Ebuild on the oiledmachine-overlay -->
    <email>orsonteodoro@hotmail.com</email>
    <name>Orson Teodoro</name>
  </maintainer>
  <longdescription>
    This is a metapackage to install the ROCm platform.
  </longdescription>
  <![CDATA[
  <!--

  oiledmachine-overlay notes:

  | Property                          | oiledmachine-overlay version       | Distro version                |
  | ---                               | ---                                | ---                           |
  | Packaging policy                  | Vanilla                            | Distro customizations         |
  | Path policy                       | Defaults except for CUDA           | Standard distro paths         |
  | ROCm base path                    | /opt/rocm                          | /usr                          |
  | ROCm libs path                    | /opt/rocm/lib                      | /usr/lib64                    |
  | CUDA path for HIP-CUDA            | /opt/cuda                          | /opt/cuda                     |
  | HIP-Clang base path or equivalent | /opt/cuda/lib/llvm                 | /usr/lib/llvm/<slot>          |
  | libstdc++ consistency             | Yes                                | No                            |
  | gfx early access                  | Yes                                | No                            |
  | gfx support policy                | Strict, drops unsupported arches   | Unreviewed, allows old arches |
  | gfx dependency chain consistency  | Yes                                | No                            |
  | amdgpu kernel driver(s)           | Vendor supplied (rock-dkms)        | Mainlined only                |
  |                                   | or mainlined only                  | (aka kernel package)          |
  | amdgpu KFD completeness           | Vendor supplied feature complete   | Partial only                  |
  |                                   | or mainlined partial               |                               |
  | Firmware                          | amdgpu-firmware or linux-firmware  | linux-firmware only           |
  | Version range policy              | Strict                             | Relaxed                       |
  | Slot                              | Monoslot                           | Monoslot                      |
  | Dependency chain                  | Subslot restricted / stable        | Unrestricted / unstable       |
  | GPU ASan support                  | Available                          | No                            |
  | CPU ASan support                  | Available                          | No                            |
  | Clang compiler                    | HIP-Clang                          | Vanilla Clang                 |
  | Prebuilt support                  | Yes                                | No                            |
  | Downstream compatibility          | More                               | Less                          |
  | Downstream patching for compat    | Less                               | More                          |
  | Tech stack coverage               | More (Full version)                | Less (Open packages only)     |
  | F16C instruction set required     | No (Optional)                      | Yes                           |
  | rocMLIR optimization [1]          | Optional, default off              | No [3]                        |
  | MIGraphX optimization [2]         | Optional, default off              | No [3]                        |

  [1] Performance impact estimates for MIOpen:

                Convolutions:   5 - 15% faster 
      Attention/Transformers:  10 - 25% faster
                        GEMM:   5 - 10% faster
              Model Training:  15 - 20% speedup
            Compilation time:  20 - 50% longer

  [2] Performance impact estimates for ONNX Runtime:

      MIGraphX vs ROCM Execution Provider (EP):   5 - 20% faster
                               MIGraphX vs CPU:  10 - 100x faster

  [3] Not packaged

  -->
  ]]>
  <use>
    <flag name="ai">
      Install Artificial Intelligence (AI) support.
    </flag>
    <flag name="compilers">
      Install tools to convert source code to binary/machine format.
    </flag>
    <flag name="communication">
      Install multigpu support.
    </flag>
    <flag name="cv">
      Install Computer Vision (CV) support.
    </flag>
    <flag name="fortran">
      Install GPU optimized Fortran.
    </flag>
    <flag name="flang-legacy">
      Install the previous LLVM Flang derivative with GPU optimizations and partial multi GPU support.
      Supports Fortran 2003/2008.
    </flag>
    <flag name="flang-new">
      Install the f18 based Flang with GPU optimizations and full multi GPU support.
      Supports Fortran 2018 fully and Fortran 2023 partially.
    </flag>
    <flag name="hip">
      Install HIP runtime and HIP-Clang.
    </flag>
    <flag name="kernel-driver">
      Install the kernel driver.
    </flag>
    <flag name="math">
      Install math libraries.
    </flag>
    <flag name="ml">
      Install Machine Learning (ML) support.
    </flag>
    <flag name="non-free">
      Permit non-free packages directly or indirectly.
    </flag>
    <flag name="opencl">
      Install the ROCr OpenCLâ„¢ driver and support.
    </flag>
    <flag name="primitives">
      Install HIP/C++ primitives.
    </flag>
    <flag name="runtimes">
      Install runtime support.
    </flag>
    <flag name="support-libs">
      Install support libraries.
    </flag>
    <flag name="tools-deploy">
      Install depolyment tools.
    </flag>
    <flag name="tools-dev">
      Install development tools.
    </flag>
    <flag name="tools-perf">
      Install performance tools.
    </flag>
    <flag name="tools-system">
      Install system tools.
    </flag>
  </use>
</pkgmetadata>
