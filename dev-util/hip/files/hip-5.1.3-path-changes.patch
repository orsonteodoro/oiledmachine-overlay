diff -urp HIP-rocm-5.1.3.orig/cmake/FindHIP.cmake HIP-rocm-5.1.3/cmake/FindHIP.cmake
--- HIP-rocm-5.1.3.orig/cmake/FindHIP.cmake	2022-04-12 03:25:32.000000000 -0700
+++ HIP-rocm-5.1.3/cmake/FindHIP.cmake	2023-08-19 02:55:36.556092257 -0700
@@ -235,11 +235,11 @@ elseif("${HIP_COMPILER}" STREQUAL "clang
         if(DEFINED ENV{HIP_CLANG_PATH})
             set(HIP_CLANG_PATH $ENV{HIP_CLANG_PATH})
         elseif(DEFINED ENV{ROCM_PATH})
-            set(HIP_CLANG_PATH "$ENV{ROCM_PATH}/llvm/bin")
+            set(HIP_CLANG_PATH "$ENV{ROCM_PATH}/lib/llvm/@LLVM_SLOT@/bin")
         elseif(DEFINED ENV{HIP_PATH})
-            set(HIP_CLANG_PATH "$ENV{HIP_PATH}/../llvm/bin")
+            set(HIP_CLANG_PATH "$ENV{HIP_PATH}/../lib/llvm/@LLVM_SLOT@/bin")
         elseif(DEFINED HIP_PATH)
-            set(HIP_CLANG_PATH "${HIP_PATH}/../llvm/bin")
+            set(HIP_CLANG_PATH "${HIP_PATH}/../lib/llvm/@LLVM_SLOT@/bin")
         else()
             set(HIP_CLANG_PATH "/opt/rocm/llvm/bin")
         endif()
@@ -654,11 +654,11 @@ macro(HIP_ADD_EXECUTABLE hip_target)
             if(DEFINED ENV{HIP_CLANG_PATH})
                 set(HIP_CLANG_PATH $ENV{HIP_CLANG_PATH})
             elseif(DEFINED ENV{ROCM_PATH})
-                set(HIP_CLANG_PATH "$ENV{ROCM_PATH}/llvm/bin")
+                set(HIP_CLANG_PATH "$ENV{ROCM_PATH}/lib/llvm/@LLVM_SLOT@/bin")
             elseif(DEFINED ENV{HIP_PATH})
-                set(HIP_CLANG_PATH "$ENV{HIP_PATH}/../llvm/bin")
+                set(HIP_CLANG_PATH "$ENV{HIP_PATH}/../lib/llvm/@LLVM_SLOT@/bin")
             elseif(DEFINED HIP_PATH)
-                set(HIP_CLANG_PATH "${HIP_PATH}/../llvm/bin")
+                set(HIP_CLANG_PATH "${HIP_PATH}/../lib/llvm/@LLVM_SLOT@/bin")
             else()
                 set(HIP_CLANG_PATH "/opt/rocm/llvm/bin")
             endif()
Only in HIP-rocm-5.1.3/cmake: FindHIP.cmake.orig
Only in HIP-rocm-5.1.3/cmake: FindHIP.cmake.rej
