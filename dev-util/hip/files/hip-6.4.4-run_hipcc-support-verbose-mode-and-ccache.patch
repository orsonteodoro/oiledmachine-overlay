--- a/cmake/FindHIP/run_hipcc.cmake.orig	2025-12-08 20:15:16.541388668 -0800
+++ b/cmake/FindHIP/run_hipcc.cmake	2025-12-08 20:22:55.034868485 -0800
@@ -28,8 +28,8 @@
 #
 # Input variables:
 #
-# verbose:BOOL=<>               OFF: Be as quiet as possible (default)
-#                               ON : Describe each step
+# verbose:BOOL=<>               OFF: Be as quiet as possible
+#                               ON : Describe each step (default)
 # build_configuration:STRING=<> Build configuration. Defaults to Debug.
 # generated_file:STRING=<>      File to generate. Mandatory argument.
 
@@ -40,6 +40,22 @@ if(NOT generated_file)
     message(FATAL_ERROR "You must specify generated_file on the command line")
 endif()
 
+if(DEFINED ENV{FEATURES})
+  string(FIND "$ENV{FEATURES}" "ccache" CCACHE_IN_FEATURES)
+  if(CCACHE_IN_FEATURES GREATER -1)
+    find_program(CCACHE_PROGRAM ccache)
+    if(CCACHE_PROGRAM AND NOT __CC MATCHES "ccache")
+      set(__CC "${CCACHE_PROGRAM} ${__CC}")
+      message(STATUS "HIP kernel compilation: ccache enabled (FEATURES=ccache)")
+    endif()
+  endif()
+endif()
+
+# Verbose mode â€“ print every command before executing
+if(NOT DEFINED verbose)
+  set(verbose ON)
+endif()
+
 # Set these up as variables to make reading the generated file easier
 set(HIP_HIPCC_EXECUTABLE "@HIP_HIPCC_EXECUTABLE@") # path
 set(HIP_HIPCONFIG_EXECUTABLE "@HIP_HIPCONFIG_EXECUTABLE@") #path
@@ -92,7 +111,7 @@ macro(hip_execute_process status command
     if(NOT "x${_command}" STREQUAL "xCOMMAND")
         message(FATAL_ERROR "Malformed call to hip_execute_process.  Missing COMMAND as second argument. (command = ${command})")
     endif()
-    if(verbose)
+    if(verbose)
         execute_process(COMMAND "${CMAKE_COMMAND}" -E echo -- ${status})
         # Build command string to print
         set(hip_execute_process_string)
