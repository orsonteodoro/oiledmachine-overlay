diff '--color=auto' -urp rocprofiler-rocm-6.0.2.orig/src/tools/rocprofv2/rocprofv2.cpp rocprofiler-rocm-6.0.2/src/tools/rocprofv2/rocprofv2.cpp
--- rocprofiler-rocm-6.0.2.orig/src/tools/rocprofv2/rocprofv2.cpp	2023-12-07 08:32:42.000000000 -0800
+++ rocprofiler-rocm-6.0.2/src/tools/rocprofv2/rocprofv2.cpp	2024-07-09 10:11:45.440021347 -0700
@@ -54,36 +54,9 @@ fs::path set_rocm_path() {
   // check symlink
   std::vector<std::string> rocm_paths;
   fs::path opt_path = "/opt";
-  fs::path rocm_path = "/opt/rocm";
+  fs::path rocm_path = "/opt/rocm-@ROCM_VERSION@";
 
-  // iterate and save all dirs under /opt that matches rocm
-  for (const auto& entry : fs::directory_iterator(opt_path)) {
-    if (entry.is_directory()) {
-      std::string dirName = entry.path().filename().string();
-      if (dirName.compare(0, 4, "rocm") == 0) {
-        rocm_paths.push_back(entry.path());
-      }
-    }
-  }
-
-  // check if symlink already exists
-  bool is_sym_link = false;
-  for (const auto& rocm_dir : rocm_paths) {
-    fs::path dir_path = opt_path / rocm_dir;
-    if (fs::is_symlink(dir_path)) {
-      is_sym_link = true;
-    }
-  }
-
-  // create a symlink if not already exists
-  if (!is_sym_link) {
-    try {
-      fs::create_symlink(rocm_paths[rocm_paths.size() - 1], "/opt/rocm");
-      std::cout << "symbolic link created successfully." << std::endl;
-    } catch (const fs::filesystem_error& e) {
-      std::cerr << "error creating symbolic link: " << e.what() << std::endl;
-    }
-  }
+  // You cannot create a symlink in production or during sandboxed install.
   return rocm_path;
 }
 
diff '--color=auto' -urp rocprofiler-rocm-6.0.2.orig/src/tools/rocsys/rocsys.cpp rocprofiler-rocm-6.0.2/src/tools/rocsys/rocsys.cpp
--- rocprofiler-rocm-6.0.2.orig/src/tools/rocsys/rocsys.cpp	2023-12-07 08:32:42.000000000 -0800
+++ rocprofiler-rocm-6.0.2/src/tools/rocsys/rocsys.cpp	2024-07-09 09:56:17.469804220 -0700
@@ -100,7 +100,7 @@ int main(int argc, char* argv[]) {
   if (Dl_info dl_info; dladdr(reinterpret_cast<void*>(main), &dl_info) != 0) {
     bin_path = fs::path(dl_info.dli_fname).remove_filename();
   } else {
-    bin_path = "/opt/rocm";
+    bin_path = "/opt/rocm-@ROCM_VERSION@";
   }
 
   std::string session_name = "default_session_roctracer";
Only in rocprofiler-rocm-6.0.2/src/tools/rocsys: rocsys.cpp.orig
